<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Network.AWS</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Network-AWS.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">amazonka-1.4.5: Comprehensive Amazon Web Services SDK.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>(c) 2013-2016 Brendan Hay</td></tr><tr><th>License</th><td>Mozilla Public License, v. 2.0.</td></tr><tr><th>Maintainer</th><td>Brendan Hay &lt;brendan.g.hay@gmail.com&gt;</td></tr><tr><th>Stability</th><td>provisional</td></tr><tr><th>Portability</th><td>non-portable (GHC extensions)</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Network.AWS</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Usage</a></li><li><a href="#g:2">Running AWS Actions</a></li><li><a href="#g:3">Authentication and Environment</a><ul><li><a href="#g:4">Credential Discovery</a></li><li><a href="#g:5">Supported Regions</a></li></ul></li><li><a href="#g:6">Sending Requests</a><ul><li><a href="#g:7">Pagination</a></li><li><a href="#g:8">Waiters</a></li><li><a href="#g:9">Service Configuration</a><ul><li><a href="#g:10">Overriding Defaults</a></li><li><a href="#g:11">Scoped Actions</a></li></ul></li><li><a href="#g:12">Streaming</a><ul><li><a href="#g:13">Request Bodies</a></li><li><a href="#g:14">Chunked Request Bodies</a></li><li><a href="#g:15">Response Bodies</a></li><li><a href="#g:16">File Size and MD5/SHA256</a></li></ul></li></ul></li><li><a href="#g:17">Presigning Requests</a></li><li><a href="#g:18">EC2 Instance Metadata</a></li><li><a href="#g:19">Running Asynchronous Actions</a></li><li><a href="#g:20">Handling Errors</a><ul><li><a href="#g:21">Building Error Prisms</a></li></ul></li><li><a href="#g:22">Logging</a><ul><li><a href="#g:23">Constructing a Logger</a></li><li><a href="#g:24">Endpoints</a></li></ul></li><li><a href="#g:25">Re-exported Types</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module provides a simple <code><a href="Network-AWS.html#t:AWS">AWS</a></code> monad and a set of operations which
 can be performed against remote Amazon Web Services APIs, for use with the types
 supplied by the various <code>amazonka-*</code> libraries.</p><p>A <code><a href="Network-AWS.html#t:MonadAWS">MonadAWS</a></code> typeclass is used as a function constraint to provide automatic
 lifting of functions when embedding <code><a href="Network-AWS.html#t:AWS">AWS</a></code> as a layer inside your own
 application stack.</p><p><a href="Control-Monad-Trans-AWS.html">Control.Monad.Trans.AWS</a> contains the underlying <code><a href="Control-Monad-Trans-AWS.html#t:AWST">AWST</a></code> transformer.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">type</span> <a href="#t:AWS">AWS</a> = <a href="Control-Monad-Trans-AWS.html#t:AWST">AWST</a> (ResourceT <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a>)</li><li class="src short"><span class="keyword">class</span> (<a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> m, <a href="../base-4.8.2.0/Control-Applicative.html#t:Applicative">Applicative</a> m, <a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m, MonadIO m, MonadCatch m) =&gt; <a href="#t:MonadAWS">MonadAWS</a> m <span class="keyword">where</span><ul class="subs"><li><a href="#v:liftAWS">liftAWS</a> :: <a href="Network-AWS.html#t:AWS">AWS</a> a -&gt; m a</li></ul></li><li class="src short"><a href="#v:runAWS">runAWS</a> :: (MonadResource m, <a href="Network-AWS.html#t:HasEnv">HasEnv</a> r) =&gt; r -&gt; <a href="Network-AWS.html#t:AWS">AWS</a> a -&gt; m a</li><li class="src short"><a href="#v:runResourceT">runResourceT</a> :: MonadBaseControl <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> m =&gt; ResourceT m a -&gt; m a</li><li class="src short"><a href="#v:newEnv">newEnv</a> :: (<a href="../base-4.8.2.0/Control-Applicative.html#t:Applicative">Applicative</a> m, MonadIO m, MonadCatch m) =&gt; <a href="Network-AWS.html#t:Credentials">Credentials</a> -&gt; m <a href="Network-AWS.html#t:Env">Env</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Env">Env</a></li><li class="src short"><span class="keyword">class</span> <a href="#t:HasEnv">HasEnv</a> a <span class="keyword">where</span><ul class="subs"><li><a href="#v:environment">environment</a> :: Lens' a <a href="Network-AWS.html#t:Env">Env</a></li><li><a href="#v:envRegion">envRegion</a> :: Lens' a <a href="Network-AWS.html#t:Region">Region</a></li><li><a href="#v:envLogger">envLogger</a> :: Lens' a <a href="Network-AWS.html#t:Logger">Logger</a></li><li><a href="#v:envRetryCheck">envRetryCheck</a> :: Lens' a (<a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a> -&gt; HttpException -&gt; <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a>)</li><li><a href="#v:envOverride">envOverride</a> :: Lens' a (<a href="../base-4.8.2.0/Data-Monoid.html#t:Dual">Dual</a> (<a href="../base-4.8.2.0/Data-Monoid.html#t:Endo">Endo</a> Service))</li><li><a href="#v:envManager">envManager</a> :: Lens' a Manager</li><li><a href="#v:envAuth">envAuth</a> :: Lens' a <a href="Network-AWS-Auth.html#t:Auth">Auth</a></li><li><a href="#v:envEC2">envEC2</a> :: Getter a (<a href="../base-4.8.2.0/Data-IORef.html#t:IORef">IORef</a> (<a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a>))</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Credentials">Credentials</a><ul class="subs"><li>= <a href="#v:FromKeys">FromKeys</a> <a href="Network-AWS-Auth.html#t:AccessKey">AccessKey</a> <a href="Network-AWS-Auth.html#t:SecretKey">SecretKey</a></li><li>| <a href="#v:FromSession">FromSession</a> <a href="Network-AWS-Auth.html#t:AccessKey">AccessKey</a> <a href="Network-AWS-Auth.html#t:SecretKey">SecretKey</a> <a href="Network-AWS-Auth.html#t:SessionToken">SessionToken</a></li><li>| <a href="#v:FromEnv">FromEnv</a> Text Text (<a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> Text) (<a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> Text)</li><li>| <a href="#v:FromProfile">FromProfile</a> Text</li><li>| <a href="#v:FromFile">FromFile</a> Text <a href="../base-4.8.2.0/System-IO.html#t:FilePath">FilePath</a></li><li>| <a href="#v:FromContainer">FromContainer</a></li><li>| <a href="#v:Discover">Discover</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Region">Region</a> :: *<ul class="subs"><li>= <a href="#v:NorthVirginia">NorthVirginia</a></li><li>| <a href="#v:Ohio">Ohio</a></li><li>| <a href="#v:NorthCalifornia">NorthCalifornia</a></li><li>| <a href="#v:Oregon">Oregon</a></li><li>| <a href="#v:Montreal">Montreal</a></li><li>| <a href="#v:Tokyo">Tokyo</a></li><li>| <a href="#v:Seoul">Seoul</a></li><li>| <a href="#v:Mumbai">Mumbai</a></li><li>| <a href="#v:Singapore">Singapore</a></li><li>| <a href="#v:Sydney">Sydney</a></li><li>| <a href="#v:SaoPaulo">SaoPaulo</a></li><li>| <a href="#v:Ireland">Ireland</a></li><li>| <a href="#v:London">London</a></li><li>| <a href="#v:Frankfurt">Frankfurt</a></li><li>| <a href="#v:GovCloud">GovCloud</a></li><li>| <a href="#v:GovCloudFIPS">GovCloudFIPS</a></li><li>| <a href="#v:Beijing">Beijing</a></li></ul></li><li class="src short"><a href="#v:send">send</a> :: (<a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> m, AWSRequest a) =&gt; a -&gt; m (Rs a)</li><li class="src short"><a href="#v:paginate">paginate</a> :: (<a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> m, AWSPager a) =&gt; a -&gt; Source m (Rs a)</li><li class="src short"><a href="#v:await">await</a> :: (<a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> m, AWSRequest a) =&gt; Wait a -&gt; a -&gt; m Accept</li><li class="src short"><a href="#v:configure">configure</a> :: <a href="Network-AWS.html#t:HasEnv">HasEnv</a> a =&gt; Service -&gt; a -&gt; a</li><li class="src short"><a href="#v:override">override</a> :: <a href="Network-AWS.html#t:HasEnv">HasEnv</a> a =&gt; (Service -&gt; Service) -&gt; a -&gt; a</li><li class="src short"><a href="#v:reconfigure">reconfigure</a> :: <a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> m =&gt; Service -&gt; <a href="Network-AWS.html#t:AWS">AWS</a> a -&gt; m a</li><li class="src short"><a href="#v:within">within</a> :: <a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> m =&gt; <a href="Network-AWS.html#t:Region">Region</a> -&gt; <a href="Network-AWS.html#t:AWS">AWS</a> a -&gt; m a</li><li class="src short"><a href="#v:once">once</a> :: <a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> m =&gt; <a href="Network-AWS.html#t:AWS">AWS</a> a -&gt; m a</li><li class="src short"><a href="#v:timeout">timeout</a> :: <a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> m =&gt; Seconds -&gt; <a href="Network-AWS.html#t:AWS">AWS</a> a -&gt; m a</li><li class="src short"><span class="keyword">class</span> <a href="#t:ToHashedBody">ToHashedBody</a> a <span class="keyword">where</span><ul class="subs"><li><a href="#v:toHashed">toHashed</a> :: a -&gt; <a href="Network-AWS.html#t:HashedBody">HashedBody</a></li></ul></li><li class="src short"><a href="#v:hashedFile">hashedFile</a> :: MonadIO m =&gt; <a href="../base-4.8.2.0/System-IO.html#t:FilePath">FilePath</a> -&gt; m <a href="Network-AWS.html#t:HashedBody">HashedBody</a></li><li class="src short"><a href="#v:hashedFileRange">hashedFileRange</a> :: MonadIO m =&gt; <a href="../base-4.8.2.0/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="../base-4.8.2.0/Prelude.html#t:Integer">Integer</a> -&gt; <a href="../base-4.8.2.0/Prelude.html#t:Integer">Integer</a> -&gt; m <a href="Network-AWS.html#t:HashedBody">HashedBody</a></li><li class="src short"><a href="#v:hashedBody">hashedBody</a> :: Digest SHA256 -&gt; <a href="../base-4.8.2.0/Prelude.html#t:Integer">Integer</a> -&gt; Source (ResourceT <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a>) ByteString -&gt; <a href="Network-AWS.html#t:HashedBody">HashedBody</a></li><li class="src short"><span class="keyword">class</span> <a href="#t:ToBody">ToBody</a> a <span class="keyword">where</span><ul class="subs"><li><a href="#v:toBody">toBody</a> :: a -&gt; <a href="Network-AWS.html#t:RqBody">RqBody</a></li></ul></li><li class="src short"><span class="keyword">newtype</span> <a href="#t:ChunkSize">ChunkSize</a> :: * = <a href="#v:ChunkSize">ChunkSize</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a></li><li class="src short"><a href="#v:defaultChunkSize">defaultChunkSize</a> :: <a href="Network-AWS.html#t:ChunkSize">ChunkSize</a></li><li class="src short"><a href="#v:chunkedFile">chunkedFile</a> :: MonadIO m =&gt; <a href="Network-AWS.html#t:ChunkSize">ChunkSize</a> -&gt; <a href="../base-4.8.2.0/System-IO.html#t:FilePath">FilePath</a> -&gt; m <a href="Network-AWS.html#t:RqBody">RqBody</a></li><li class="src short"><a href="#v:chunkedFileRange">chunkedFileRange</a> :: MonadIO m =&gt; <a href="Network-AWS.html#t:ChunkSize">ChunkSize</a> -&gt; <a href="../base-4.8.2.0/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="../base-4.8.2.0/Prelude.html#t:Integer">Integer</a> -&gt; <a href="../base-4.8.2.0/Prelude.html#t:Integer">Integer</a> -&gt; m <a href="Network-AWS.html#t:RqBody">RqBody</a></li><li class="src short"><a href="#v:unsafeChunkedBody">unsafeChunkedBody</a> :: <a href="Network-AWS.html#t:ChunkSize">ChunkSize</a> -&gt; <a href="../base-4.8.2.0/Prelude.html#t:Integer">Integer</a> -&gt; Source (ResourceT <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a>) ByteString -&gt; <a href="Network-AWS.html#t:RqBody">RqBody</a></li><li class="src short"><a href="#v:sinkBody">sinkBody</a> :: MonadResource m =&gt; <a href="Network-AWS.html#t:RsBody">RsBody</a> -&gt; Sink ByteString m a -&gt; m a</li><li class="src short"><a href="#v:getFileSize">getFileSize</a> :: MonadIO m =&gt; <a href="../base-4.8.2.0/System-IO.html#t:FilePath">FilePath</a> -&gt; m <a href="../base-4.8.2.0/Prelude.html#t:Integer">Integer</a></li><li class="src short"><a href="#v:sinkMD5">sinkMD5</a> :: <a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; Consumer ByteString m (Digest MD5)</li><li class="src short"><a href="#v:sinkSHA256">sinkSHA256</a> :: <a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; Consumer ByteString m (Digest SHA256)</li><li class="src short"><a href="#v:presignURL">presignURL</a> :: (<a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> m, AWSRequest a) =&gt; UTCTime -&gt; Seconds -&gt; a -&gt; m ByteString</li><li class="src short"><a href="#v:isEC2">isEC2</a> :: <a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> m =&gt; m <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:dynamic">dynamic</a> :: <a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> m =&gt; <a href="Network-AWS.html#t:Dynamic">Dynamic</a> -&gt; m ByteString</li><li class="src short"><a href="#v:metadata">metadata</a> :: <a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> m =&gt; <a href="Network-AWS.html#t:Metadata">Metadata</a> -&gt; m ByteString</li><li class="src short"><a href="#v:userdata">userdata</a> :: <a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> m =&gt; m (<a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> ByteString)</li><li class="src short"><span class="keyword">data</span> <a href="#t:Dynamic">Dynamic</a><ul class="subs"><li>= <a href="#v:FWS">FWS</a></li><li>| <a href="#v:Document">Document</a></li><li>| <a href="#v:PKCS7">PKCS7</a></li><li>| <a href="#v:Signature">Signature</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Metadata">Metadata</a><ul class="subs"><li>= <a href="#v:AMIId">AMIId</a></li><li>| <a href="#v:AMILaunchIndex">AMILaunchIndex</a></li><li>| <a href="#v:AMIManifestPath">AMIManifestPath</a></li><li>| <a href="#v:AncestorAMIIds">AncestorAMIIds</a></li><li>| <a href="#v:BlockDevice">BlockDevice</a> !<a href="Network-AWS-EC2-Metadata.html#t:Mapping">Mapping</a></li><li>| <a href="#v:Hostname">Hostname</a></li><li>| <a href="#v:IAM">IAM</a> !<a href="Network-AWS-EC2-Metadata.html#t:Info">Info</a></li><li>| <a href="#v:InstanceAction">InstanceAction</a></li><li>| <a href="#v:InstanceId">InstanceId</a></li><li>| <a href="#v:InstanceType">InstanceType</a></li><li>| <a href="#v:KernelId">KernelId</a></li><li>| <a href="#v:LocalHostname">LocalHostname</a></li><li>| <a href="#v:LocalIPV4">LocalIPV4</a></li><li>| <a href="#v:MAC">MAC</a></li><li>| <a href="#v:Network">Network</a> !Text !<a href="Network-AWS-EC2-Metadata.html#t:Interface">Interface</a></li><li>| <a href="#v:AvailabilityZone">AvailabilityZone</a></li><li>| <a href="#v:ProductCodes">ProductCodes</a></li><li>| <a href="#v:PublicHostname">PublicHostname</a></li><li>| <a href="#v:PublicIPV4">PublicIPV4</a></li><li>| <a href="#v:OpenSSHKey">OpenSSHKey</a></li><li>| <a href="#v:RAMDiskId">RAMDiskId</a></li><li>| <a href="#v:ReservationId">ReservationId</a></li><li>| <a href="#v:SecurityGroups">SecurityGroups</a></li></ul></li><li class="src short"><span class="keyword">class</span> <a href="#t:AsError">AsError</a> a <span class="keyword">where</span><ul class="subs"><li><a href="#v:_Error">_Error</a> :: Prism' a Error</li><li><a href="#v:_TransportError">_TransportError</a> :: Prism' a HttpException</li><li><a href="#v:_SerializeError">_SerializeError</a> :: Prism' a SerializeError</li><li><a href="#v:_ServiceError">_ServiceError</a> :: Prism' a ServiceError</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="#t:AsAuthError">AsAuthError</a> a <span class="keyword">where</span><ul class="subs"><li><a href="#v:_AuthError">_AuthError</a> :: Prism' a <a href="Network-AWS-Auth.html#t:AuthError">AuthError</a></li><li><a href="#v:_RetrievalError">_RetrievalError</a> :: Prism' a HttpException</li><li><a href="#v:_MissingEnvError">_MissingEnvError</a> :: Prism' a Text</li><li><a href="#v:_InvalidEnvError">_InvalidEnvError</a> :: Prism' a Text</li><li><a href="#v:_MissingFileError">_MissingFileError</a> :: Prism' a <a href="../base-4.8.2.0/System-IO.html#t:FilePath">FilePath</a></li><li><a href="#v:_InvalidFileError">_InvalidFileError</a> :: Prism' a Text</li><li><a href="#v:_InvalidIAMError">_InvalidIAMError</a> :: Prism' a Text</li></ul></li><li class="src short"><a href="#v:trying">trying</a> :: MonadCatch m =&gt; Getting (<a href="../base-4.8.2.0/Data-Monoid.html#t:First">First</a> a) <a href="../base-4.8.2.0/Control-Exception-Base.html#t:SomeException">SomeException</a> a -&gt; m r -&gt; m (<a href="../base-4.8.2.0/Data-Either.html#t:Either">Either</a> a r)</li><li class="src short"><a href="#v:catching">catching</a> :: MonadCatch m =&gt; Getting (<a href="../base-4.8.2.0/Data-Monoid.html#t:First">First</a> a) <a href="../base-4.8.2.0/Control-Exception-Base.html#t:SomeException">SomeException</a> a -&gt; m r -&gt; (a -&gt; m r) -&gt; m r</li><li class="src short"><a href="#v:_MatchServiceError">_MatchServiceError</a> :: <a href="Network-AWS.html#t:AsError">AsError</a> a =&gt; Service -&gt; ErrorCode -&gt; Getting (<a href="../base-4.8.2.0/Data-Monoid.html#t:First">First</a> ServiceError) a ServiceError</li><li class="src short"><a href="#v:hasService">hasService</a> :: (<a href="../base-4.8.2.0/Control-Applicative.html#t:Applicative">Applicative</a> f, Choice p) =&gt; Service -&gt; Optic' * * p f ServiceError ServiceError</li><li class="src short"><a href="#v:hasStatus">hasStatus</a> :: (<a href="../base-4.8.2.0/Control-Applicative.html#t:Applicative">Applicative</a> f, Choice p) =&gt; <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a> -&gt; Optic' * * p f ServiceError ServiceError</li><li class="src short"><a href="#v:hasCode">hasCode</a> :: (<a href="../base-4.8.2.0/Control-Applicative.html#t:Applicative">Applicative</a> f, Choice p) =&gt; ErrorCode -&gt; Optic' * * p f ServiceError ServiceError</li><li class="src short"><span class="keyword">type</span> <a href="#t:Logger">Logger</a> = <a href="Network-AWS.html#t:LogLevel">LogLevel</a> -&gt; Builder -&gt; <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:LogLevel">LogLevel</a> :: *<ul class="subs"><li>= <a href="#v:Info">Info</a></li><li>| <a href="#v:Error">Error</a></li><li>| <a href="#v:Debug">Debug</a></li><li>| <a href="#v:Trace">Trace</a></li></ul></li><li class="src short"><a href="#v:newLogger">newLogger</a> :: MonadIO m =&gt; <a href="Network-AWS.html#t:LogLevel">LogLevel</a> -&gt; <a href="../base-4.8.2.0/GHC-IO-Handle.html#t:Handle">Handle</a> -&gt; m <a href="Network-AWS.html#t:Logger">Logger</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Endpoint">Endpoint</a> :: * = <a href="#v:Endpoint">Endpoint</a> {<ul class="subs"><li><a href="#v:_endpointHost">_endpointHost</a> :: ByteString</li><li><a href="#v:_endpointSecure">_endpointSecure</a> :: !<a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a></li><li><a href="#v:_endpointPort">_endpointPort</a> :: !<a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a></li><li><a href="#v:_endpointScope">_endpointScope</a> :: ByteString</li></ul>}</li><li class="src short"><a href="#v:setEndpoint">setEndpoint</a> :: <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a> -&gt; ByteString -&gt; <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a> -&gt; Service -&gt; Service</li><li class="src short"><span class="keyword">data</span> <a href="#t:RqBody">RqBody</a> :: *</li><li class="src short"><span class="keyword">data</span> <a href="#t:HashedBody">HashedBody</a> :: *</li><li class="src short"><span class="keyword">data</span> <a href="#t:ChunkedBody">ChunkedBody</a> :: *</li><li class="src short"><span class="keyword">data</span> <a href="#t:RsBody">RsBody</a> :: *</li></ul></div><div id="interface"><h1 id="g:1">Usage</h1><div class="doc"><p>The key functions dealing with the request/response lifecycle are:</p><ul><li><code><a href="Network-AWS.html#v:send">send</a></code></li><li><code><a href="Network-AWS.html#v:paginate">paginate</a></code></li><li><code><a href="Network-AWS.html#v:await">await</a></code></li></ul><p>These functions have constraints that types from the <code>amazonka-*</code> libraries
satisfy. To utilise these, you will need to specify what <code><a href="Network-AWS.html#t:Region">Region</a></code> you wish to
operate in and your Amazon credentials for AuthN/AuthZ purposes.</p><p><code><a href="Network-AWS.html#t:Credentials">Credentials</a></code> can be supplied in a number of ways. Either via explicit keys,
via session profiles, or have Amazonka retrieve the credentials from an
underlying IAM Role/Profile.</p><p>As a basic example, you might wish to store an object in an S3 bucket using
<a href="http://hackage.haskell.org/package/amazonka-s3">amazonka-s3</a>:</p><pre>

import Control.Lens
import Network.AWS
import Network.AWS.S3
import System.IO

example :: IO PutObjectResponse
example = do
    -- A new <code><a href="Network-AWS.html#t:Logger">Logger</a></code> to replace the default noop logger is created, with the logger
    -- set to print debug information and errors to stdout:
    lgr  &lt;- newLogger Debug stdout

    -- To specify configuration preferences, <code><a href="Network-AWS.html#v:newEnv">newEnv</a></code> is used to create a new
    -- configuration environment. The <code><a href="Network-AWS.html#t:Credentials">Credentials</a></code> parameter is used to specify
    -- mechanism for supplying or retrieving AuthN/AuthZ information.
    -- In this case <code><a href="Network-AWS.html#v:Discover">Discover</a></code> will cause the library to try a number of options such
    -- as default environment variables, or an instance's IAM Profile and identity document:
    env  &lt;- newEnv Discover

    -- The payload (and hash) for the S3 object is retrieved from a <code><a href="../base-4.8.2.0/System-IO.html#t:FilePath">FilePath</a></code>,
    -- either <code><a href="Network-AWS.html#v:hashedFile">hashedFile</a></code> or <code><a href="Network-AWS.html#v:chunkedFile">chunkedFile</a></code> can be used, with the latter ensuring
    -- the contents of the file is enumerated exactly once, during send:
    body &lt;- chunkedFile defaultChunkSize &quot;local/path/to/object-payload&quot;

    -- We now run the <code><a href="Network-AWS.html#t:AWS">AWS</a></code> computation with the overriden logger, performing the
    -- <code>PutObject</code> request. <code><a href="Network-AWS.html#v:envRegion">envRegion</a></code> or <code><a href="Network-AWS.html#v:within">within</a></code> can be used to set the
    -- remote AWS <code><a href="Network-AWS.html#t:Region">Region</a></code>:
    runResourceT $ runAWS (env &amp; envLogger .~ lgr) $
        within Frankfurt $
            send (putObject &quot;bucket-name&quot; &quot;object-key&quot; body)
</pre></div><h1 id="g:2">Running AWS Actions</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:AWS" class="def">AWS</a> = <a href="Control-Monad-Trans-AWS.html#t:AWST">AWST</a> (ResourceT <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a>)</p><div class="doc"><p>A specialisation of the <code><a href="Control-Monad-Trans-AWS.html#t:AWST">AWST</a></code> transformer.</p></div></div><div class="top"><p class="src"><span class="keyword">class</span> (<a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> m, <a href="../base-4.8.2.0/Control-Applicative.html#t:Applicative">Applicative</a> m, <a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m, MonadIO m, MonadCatch m) =&gt; <a name="t:MonadAWS" class="def">MonadAWS</a> m <span class="keyword">where</span></p><div class="doc"><p>Monads in which <code><a href="Network-AWS.html#t:AWS">AWS</a></code> actions may be embedded.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:liftAWS" class="def">liftAWS</a> :: <a href="Network-AWS.html#t:AWS">AWS</a> a -&gt; m a</p><div class="doc"><p>Lift a computation to the <code><a href="Network-AWS.html#t:AWS">AWS</a></code> monad.</p></div></div><div class="subs instances"><p id="control.i:MonadAWS" class="caption collapser" onclick="toggleSection('i:MonadAWS')">Instances</p><div id="section.i:MonadAWS" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> <a href="Network-AWS.html#t:AWS">AWS</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> m =&gt; <a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> (MaybeT m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> m =&gt; <a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> (ListT m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> w, <a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> m) =&gt; <a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> (WriterT w m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> w, <a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> m) =&gt; <a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> (WriterT w m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> m =&gt; <a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> (StateT s m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> m =&gt; <a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> (StateT s m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> m =&gt; <a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> (IdentityT * m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> m =&gt; <a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> (ExceptT e m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> m =&gt; <a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> (ReaderT * r m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> w, <a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> m) =&gt; <a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> (RWST r w s m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> w, <a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> m) =&gt; <a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> (RWST r w s m)</span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:runAWS" class="def">runAWS</a> :: (MonadResource m, <a href="Network-AWS.html#t:HasEnv">HasEnv</a> r) =&gt; r -&gt; <a href="Network-AWS.html#t:AWS">AWS</a> a -&gt; m a</p><div class="doc"><p>Run the <code><a href="Network-AWS.html#t:AWS">AWS</a></code> monad. Any outstanding HTTP responses' <code>ResumableSource</code> will
 be closed when the <code>ResourceT</code> computation is unwrapped with <code><a href="Network-AWS.html#v:runResourceT">runResourceT</a></code>.</p><p>Throws <code>Error</code>, which will include <code>HTTPExceptions</code>, serialisation errors,
 or any particular errors returned by the respective AWS service.</p><p><em>See:</em> <code><a href="Control-Monad-Trans-AWS.html#v:runAWST">runAWST</a></code>, <code><a href="Network-AWS.html#v:runResourceT">runResourceT</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:runResourceT" class="def">runResourceT</a> :: MonadBaseControl <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> m =&gt; ResourceT m a -&gt; m a</p></div><h1 id="g:3">Authentication and Environment</h1><div class="top"><p class="src"><a name="v:newEnv" class="def">newEnv</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="../base-4.8.2.0/Control-Applicative.html#t:Applicative">Applicative</a> m, MonadIO m, MonadCatch m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Network-AWS.html#t:Credentials">Credentials</a></td><td class="doc"><p>Credential discovery mechanism.</p></td></tr><tr><td class="src">-&gt; m <a href="Network-AWS.html#t:Env">Env</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Creates a new environment with a new <code>Manager</code> without debug logging
 and uses <code><a href="Network-AWS-Auth.html#v:getAuth">getAuth</a></code> to expand/discover the supplied <code><a href="Network-AWS.html#t:Credentials">Credentials</a></code>.
 Lenses from <code><a href="Network-AWS.html#t:HasEnv">HasEnv</a></code> can be used to further configure the resulting <code><a href="Network-AWS.html#t:Env">Env</a></code>.</p><p><em>Since:</em> <code>1.5.0</code> - The region is now retrieved from the <code>AWS_REGION</code> environment
 variable (identical to official SDKs), or defaults to <code>us-east-1</code>.
 You can override the <code><a href="Network-AWS.html#t:Env">Env</a></code> region by using <code><a href="Network-AWS.html#v:envRegion">envRegion</a></code>, or the current operation's
 region by using <code><a href="Network-AWS-Env.html#v:within">within</a></code>.</p><p><em>Since:</em> <code>1.3.6</code> - The default logic for retrying <code>HttpException</code>s now uses
 <code><a href="Network-AWS-Env.html#v:retryConnectionFailure">retryConnectionFailure</a></code> to retry specific connection failure conditions up to 3 times.
 Previously only service specific errors were automatically retried.
 This can be reverted to the old behaviour by resetting the <code><a href="Network-AWS.html#t:Env">Env</a></code> using
 <code><a href="Network-AWS.html#v:envRetryCheck">envRetryCheck</a></code> lens to <code>(\_ _ -&gt; False)</code>.</p><p>Throws <code><a href="Network-AWS-Auth.html#t:AuthError">AuthError</a></code> when environment variables or IAM profiles cannot be read.</p><p><em>See:</em> <code><a href="Network-AWS-Env.html#v:newEnvWith">newEnvWith</a></code>.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Env" class="def">Env</a></p><div class="doc"><p>The environment containing the parameters required to make AWS requests.</p></div><div class="subs instances"><p id="control.i:Env" class="caption collapser" onclick="toggleSection('i:Env')">Instances</p><div id="section.i:Env" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS-Data.html#t:ToLog">ToLog</a> <a href="Network-AWS.html#t:Env">Env</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS.html#t:HasEnv">HasEnv</a> <a href="Network-AWS.html#t:Env">Env</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> <a href="Network-AWS.html#t:AWS">AWS</a></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:HasEnv" class="def">HasEnv</a> a <span class="keyword">where</span></p><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="Network-AWS.html#v:environment">environment</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:environment" class="def">environment</a> :: Lens' a <a href="Network-AWS.html#t:Env">Env</a></p><p class="src"><a name="v:envRegion" class="def">envRegion</a> :: Lens' a <a href="Network-AWS.html#t:Region">Region</a></p><div class="doc"><p>The current region.</p></div><p class="src"><a name="v:envLogger" class="def">envLogger</a> :: Lens' a <a href="Network-AWS.html#t:Logger">Logger</a></p><div class="doc"><p>The function used to output log messages.</p></div><p class="src"><a name="v:envRetryCheck" class="def">envRetryCheck</a> :: Lens' a (<a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a> -&gt; HttpException -&gt; <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a>)</p><div class="doc"><p>The function used to determine if an <code>HttpException</code> should be retried.</p></div><p class="src"><a name="v:envOverride" class="def">envOverride</a> :: Lens' a (<a href="../base-4.8.2.0/Data-Monoid.html#t:Dual">Dual</a> (<a href="../base-4.8.2.0/Data-Monoid.html#t:Endo">Endo</a> Service))</p><div class="doc"><p>The currently applied overrides to all <code>Service</code> configuration.</p></div><p class="src"><a name="v:envManager" class="def">envManager</a> :: Lens' a Manager</p><div class="doc"><p>The <code>Manager</code> used to create and manage open HTTP connections.</p></div><p class="src"><a name="v:envAuth" class="def">envAuth</a> :: Lens' a <a href="Network-AWS-Auth.html#t:Auth">Auth</a></p><div class="doc"><p>The credentials used to sign requests for authentication with AWS.</p></div><p class="src"><a name="v:envEC2" class="def">envEC2</a> :: Getter a (<a href="../base-4.8.2.0/Data-IORef.html#t:IORef">IORef</a> (<a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a>))</p><div class="doc"><p>A memoised predicate for whether the underlying host is an EC2 instance.</p></div></div><div class="subs instances"><p id="control.i:HasEnv" class="caption collapser" onclick="toggleSection('i:HasEnv')">Instances</p><div id="section.i:HasEnv" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS.html#t:HasEnv">HasEnv</a> <a href="Network-AWS.html#t:Env">Env</a></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h2 id="g:4">Credential Discovery</h2><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Credentials" class="def">Credentials</a></p><div class="doc"><p>Determines how AuthN/AuthZ information is retrieved.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:FromKeys" class="def">FromKeys</a> <a href="Network-AWS-Auth.html#t:AccessKey">AccessKey</a> <a href="Network-AWS-Auth.html#t:SecretKey">SecretKey</a></td><td class="doc"><p>Explicit access and secret keys. See <code><a href="Network-AWS-Auth.html#v:fromKeys">fromKeys</a></code>.</p></td></tr><tr><td class="src"><a name="v:FromSession" class="def">FromSession</a> <a href="Network-AWS-Auth.html#t:AccessKey">AccessKey</a> <a href="Network-AWS-Auth.html#t:SecretKey">SecretKey</a> <a href="Network-AWS-Auth.html#t:SessionToken">SessionToken</a></td><td class="doc"><p>Explicit access key, secret key and a session token. See <code><a href="Network-AWS-Auth.html#v:fromSession">fromSession</a></code>.</p></td></tr><tr><td class="src"><a name="v:FromEnv" class="def">FromEnv</a> Text Text (<a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> Text) (<a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> Text)</td><td class="doc"><p>Lookup specific environment variables for access key, secret key,
 an optional session token, and an optional region, respectively.</p></td></tr><tr><td class="src"><a name="v:FromProfile" class="def">FromProfile</a> Text</td><td class="doc"><p>An IAM Profile name to lookup from the local EC2 instance-data.
 Environment variables to lookup for the access key, secret key and
 optional session token.</p></td></tr><tr><td class="src"><a name="v:FromFile" class="def">FromFile</a> Text <a href="../base-4.8.2.0/System-IO.html#t:FilePath">FilePath</a></td><td class="doc"><p>A credentials profile name (the INI section) and the path to the AWS
 <a href="http://blogs.aws.amazon.com/security/post/Tx3D6U6WSFGOK2H/A-New-and-Standardized-Way-to-Manage-Credentials-in-the-AWS-SDKs">credentials</a> file.</p></td></tr><tr><td class="src"><a name="v:FromContainer" class="def">FromContainer</a></td><td class="doc"><p>Obtain credentials by attempting to contact the ECS container agent
 at <a href="http://169.254.170.2">http://169.254.170.2</a> using the path in <code>envContainerCredentialsURI</code>.
 See <a href="http://docs.aws.amazon.com/AmazonECS/latest/developerguide/task-iam-roles.html">IAM Roles for Tasks</a>
 in the AWS documentation for more information.</p></td></tr><tr><td class="src"><a name="v:Discover" class="def">Discover</a></td><td class="doc"><p>Attempt credentials discovery via the following steps:</p><ul><li>Read the <code><a href="Network-AWS-Auth.html#v:envAccessKey">envAccessKey</a></code>, <code><a href="Network-AWS-Auth.html#v:envSecretKey">envSecretKey</a></code>, and <code>envRegion</code> from the environment if they are set.</li><li>Read the credentials file if <code><a href="Network-AWS-Auth.html#v:credFile">credFile</a></code> exists.</li><li>Obtain credentials from the ECS container agent if
 <code>envContainerCredentialsURI</code> is set.</li><li>Retrieve the first available IAM profile and read
 the <code><a href="Network-AWS.html#t:Region">Region</a></code> from the instance identity document, if running on EC2.</li></ul><p>An attempt is made to resolve <a href="http://instance-data">http://instance-data</a> rather than directly
 retrieving <a href="http://169.254.169.254">http://169.254.169.254</a> for IAM profile information.
 This assists in ensuring the DNS lookup terminates promptly if not
 running on EC2.</p></td></tr></table></div><div class="subs instances"><p id="control.i:Credentials" class="caption collapser" onclick="toggleSection('i:Credentials')">Instances</p><div id="section.i:Credentials" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a> <a href="Network-AWS.html#t:Credentials">Credentials</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> <a href="Network-AWS.html#t:Credentials">Credentials</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS-Data.html#t:ToLog">ToLog</a> <a href="Network-AWS.html#t:Credentials">Credentials</a></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="doc"><p>AuthN/AuthZ information is handled similarly to other AWS SDKs. You can read
some of the options available <a href="http://blogs.aws.amazon.com/security/post/Tx3D6U6WSFGOK2H/A-New-and-Standardized-Way-to-Manage-Credentials-in-the-AWS-SDKs">here</a>.</p><p>When running on an EC2 instance and using <code><a href="Network-AWS.html#v:FromProfile">FromProfile</a></code> or <code><a href="Network-AWS.html#v:Discover">Discover</a></code>, a thread
is forked which transparently handles the expiry and subsequent refresh of IAM
profile information. See <code><a href="Network-AWS-Auth.html#v:fromProfileName">fromProfileName</a></code> for more information.</p></div><h2 id="g:5">Supported Regions</h2><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Region" class="def">Region</a> :: *</p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:NorthVirginia" class="def">NorthVirginia</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Ohio" class="def">Ohio</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:NorthCalifornia" class="def">NorthCalifornia</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Oregon" class="def">Oregon</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Montreal" class="def">Montreal</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Tokyo" class="def">Tokyo</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Seoul" class="def">Seoul</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Mumbai" class="def">Mumbai</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Singapore" class="def">Singapore</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Sydney" class="def">Sydney</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:SaoPaulo" class="def">SaoPaulo</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Ireland" class="def">Ireland</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:London" class="def">London</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Frankfurt" class="def">Frankfurt</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:GovCloud" class="def">GovCloud</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:GovCloudFIPS" class="def">GovCloudFIPS</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Beijing" class="def">Beijing</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Region" class="caption collapser" onclick="toggleSection('i:Region')">Instances</p><div id="section.i:Region" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Prelude.html#t:Bounded">Bounded</a> <a href="Network-AWS.html#t:Region">Region</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Prelude.html#t:Enum">Enum</a> <a href="Network-AWS.html#t:Region">Region</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a> <a href="Network-AWS.html#t:Region">Region</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Data.html#t:Data">Data</a> <a href="Network-AWS.html#t:Region">Region</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Ord.html#t:Ord">Ord</a> <a href="Network-AWS.html#t:Region">Region</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Text-Read.html#t:Read">Read</a> <a href="Network-AWS.html#t:Region">Region</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> <a href="Network-AWS.html#t:Region">Region</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/GHC-Generics.html#t:Generic">Generic</a> <a href="Network-AWS.html#t:Region">Region</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS-Data.html#t:ToText">ToText</a> <a href="Network-AWS.html#t:Region">Region</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS-Data.html#t:ToByteString">ToByteString</a> <a href="Network-AWS.html#t:Region">Region</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS-Data.html#t:ToLog">ToLog</a> <a href="Network-AWS.html#t:Region">Region</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS-Data.html#t:FromText">FromText</a> <a href="Network-AWS.html#t:Region">Region</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">NFData <a href="Network-AWS.html#t:Region">Region</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">Hashable <a href="Network-AWS.html#t:Region">Region</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">ToXML <a href="Network-AWS.html#t:Region">Region</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">ToJSON <a href="Network-AWS.html#t:Region">Region</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">FromXML <a href="Network-AWS.html#t:Region">Region</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">FromJSON <a href="Network-AWS.html#t:Region">Region</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">type</span> <a href="../base-4.8.2.0/GHC-Generics.html#t:Rep">Rep</a> <a href="Network-AWS.html#t:Region">Region</a> = <a href="../base-4.8.2.0/GHC-Generics.html#t:D1">D1</a> D1Region (<a href="../base-4.8.2.0/GHC-Generics.html#t::-43-:">(:+:)</a> (<a href="../base-4.8.2.0/GHC-Generics.html#t::-43-:">(:+:)</a> (<a href="../base-4.8.2.0/GHC-Generics.html#t::-43-:">(:+:)</a> (<a href="../base-4.8.2.0/GHC-Generics.html#t::-43-:">(:+:)</a> (<a href="../base-4.8.2.0/GHC-Generics.html#t:C1">C1</a> C1_0Region <a href="../base-4.8.2.0/GHC-Generics.html#t:U1">U1</a>) (<a href="../base-4.8.2.0/GHC-Generics.html#t:C1">C1</a> C1_1Region <a href="../base-4.8.2.0/GHC-Generics.html#t:U1">U1</a>)) (<a href="../base-4.8.2.0/GHC-Generics.html#t::-43-:">(:+:)</a> (<a href="../base-4.8.2.0/GHC-Generics.html#t:C1">C1</a> C1_2Region <a href="../base-4.8.2.0/GHC-Generics.html#t:U1">U1</a>) (<a href="../base-4.8.2.0/GHC-Generics.html#t:C1">C1</a> C1_3Region <a href="../base-4.8.2.0/GHC-Generics.html#t:U1">U1</a>))) (<a href="../base-4.8.2.0/GHC-Generics.html#t::-43-:">(:+:)</a> (<a href="../base-4.8.2.0/GHC-Generics.html#t::-43-:">(:+:)</a> (<a href="../base-4.8.2.0/GHC-Generics.html#t:C1">C1</a> C1_4Region <a href="../base-4.8.2.0/GHC-Generics.html#t:U1">U1</a>) (<a href="../base-4.8.2.0/GHC-Generics.html#t:C1">C1</a> C1_5Region <a href="../base-4.8.2.0/GHC-Generics.html#t:U1">U1</a>)) (<a href="../base-4.8.2.0/GHC-Generics.html#t::-43-:">(:+:)</a> (<a href="../base-4.8.2.0/GHC-Generics.html#t:C1">C1</a> C1_6Region <a href="../base-4.8.2.0/GHC-Generics.html#t:U1">U1</a>) (<a href="../base-4.8.2.0/GHC-Generics.html#t:C1">C1</a> C1_7Region <a href="../base-4.8.2.0/GHC-Generics.html#t:U1">U1</a>)))) (<a href="../base-4.8.2.0/GHC-Generics.html#t::-43-:">(:+:)</a> (<a href="../base-4.8.2.0/GHC-Generics.html#t::-43-:">(:+:)</a> (<a href="../base-4.8.2.0/GHC-Generics.html#t::-43-:">(:+:)</a> (<a href="../base-4.8.2.0/GHC-Generics.html#t:C1">C1</a> C1_8Region <a href="../base-4.8.2.0/GHC-Generics.html#t:U1">U1</a>) (<a href="../base-4.8.2.0/GHC-Generics.html#t:C1">C1</a> C1_9Region <a href="../base-4.8.2.0/GHC-Generics.html#t:U1">U1</a>)) (<a href="../base-4.8.2.0/GHC-Generics.html#t::-43-:">(:+:)</a> (<a href="../base-4.8.2.0/GHC-Generics.html#t:C1">C1</a> C1_10Region <a href="../base-4.8.2.0/GHC-Generics.html#t:U1">U1</a>) (<a href="../base-4.8.2.0/GHC-Generics.html#t:C1">C1</a> C1_11Region <a href="../base-4.8.2.0/GHC-Generics.html#t:U1">U1</a>))) (<a href="../base-4.8.2.0/GHC-Generics.html#t::-43-:">(:+:)</a> (<a href="../base-4.8.2.0/GHC-Generics.html#t::-43-:">(:+:)</a> (<a href="../base-4.8.2.0/GHC-Generics.html#t:C1">C1</a> C1_12Region <a href="../base-4.8.2.0/GHC-Generics.html#t:U1">U1</a>) (<a href="../base-4.8.2.0/GHC-Generics.html#t:C1">C1</a> C1_13Region <a href="../base-4.8.2.0/GHC-Generics.html#t:U1">U1</a>)) (<a href="../base-4.8.2.0/GHC-Generics.html#t::-43-:">(:+:)</a> (<a href="../base-4.8.2.0/GHC-Generics.html#t:C1">C1</a> C1_14Region <a href="../base-4.8.2.0/GHC-Generics.html#t:U1">U1</a>) (<a href="../base-4.8.2.0/GHC-Generics.html#t::-43-:">(:+:)</a> (<a href="../base-4.8.2.0/GHC-Generics.html#t:C1">C1</a> C1_15Region <a href="../base-4.8.2.0/GHC-Generics.html#t:U1">U1</a>) (<a href="../base-4.8.2.0/GHC-Generics.html#t:C1">C1</a> C1_16Region <a href="../base-4.8.2.0/GHC-Generics.html#t:U1">U1</a>))))))</span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h1 id="g:6">Sending Requests</h1><div class="doc"><p>To send a request you need to create a value of the desired operation type using
the relevant constructor, as well as any further modifications of default/optional
parameters using the appropriate lenses. This value can then be sent using <code><a href="Network-AWS.html#v:send">send</a></code>
or <code><a href="Network-AWS.html#v:paginate">paginate</a></code> and the library will take care of serialisation/authentication and
so forth.</p><p>The default <code>Service</code> configuration for a request contains retry configuration that is used to
determine if a request can safely be retried and what kind of back off/on strategy
should be used. (Usually exponential.)
Typically services define retry strategies that handle throttling, general server
errors and transport errors. Streaming requests are never retried.</p></div><div class="top"><p class="src"><a name="v:send" class="def">send</a> :: (<a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> m, AWSRequest a) =&gt; a -&gt; m (Rs a)</p><div class="doc"><p>Send a request, returning the associated response if successful.</p></div></div><h2 id="g:7">Pagination</h2><div class="doc"><p>Some AWS operations return results that are incomplete and require subsequent
requests in order to obtain the entire result set. The process of sending
subsequent requests to continue where a previous request left off is called
pagination. For example, the <code>ListObjects</code> operation of Amazon S3 returns up to
1000 objects at a time, and you must send subsequent requests with the
appropriate Marker in order to retrieve the next page of results.</p><p>Operations that have an <code>AWSPager</code> instance can transparently perform subsequent
requests, correctly setting Markers and other request facets to iterate through
the entire result set of a truncated API operation. Operations which support
this have an additional note in the documentation.</p><p>Many operations have the ability to filter results on the server side. See the
individual operation parameters for details.</p></div><div class="top"><p class="src"><a name="v:paginate" class="def">paginate</a> :: (<a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> m, AWSPager a) =&gt; a -&gt; Source m (Rs a)</p><div class="doc"><p>Repeatedly send a request, automatically setting markers and
 paginating over multiple responses while available.</p></div></div><h2 id="g:8">Waiters</h2><div class="doc"><p>Waiters poll by repeatedly sending a request until some remote success condition
configured by the <code>Wait</code> specification is fulfilled. The <code>Wait</code> specification
determines how many attempts should be made, in addition to delay and retry strategies.
Error conditions that are not handled by the <code>Wait</code> configuration will be thrown,
or the first successful response that fulfills the success condition will be
returned.</p><p><code>Wait</code> specifications can be found under the <code>Network.AWS.{ServiceName}.Waiters</code>
namespace for services which support <code><a href="Network-AWS.html#v:await">await</a></code>.</p></div><div class="top"><p class="src"><a name="v:await" class="def">await</a> :: (<a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> m, AWSRequest a) =&gt; Wait a -&gt; a -&gt; m Accept</p><div class="doc"><p>Poll the API with the supplied request until a specific <code>Wait</code> condition
 is fulfilled.</p></div></div><h2 id="g:9">Service Configuration</h2><div class="doc"><p>When a request is sent, various values such as the endpoint,
retry strategy, timeout and error handlers are taken from the associated <code>Service</code>
for a request. For example, <code>DynamoDB</code> will use the <code><a href="Network-AWS-DynamoDB.html#v:dynamoDB">dynamoDB</a></code>
configuration when sending <code>PutItem</code>, <code>Query</code> and all other operations.</p><p>You can modify a specific <code>Service'</code>s default configuration by using
<code>configure</code> or <code><a href="Network-AWS.html#v:reconfigure">reconfigure</a></code>. To modify all configurations simultaneously, see <code>override</code>.</p><p>An example of how you might alter default configuration using these mechanisms
is demonstrated below. Firstly, the default <code>dynamoDB</code> service is configured to
use non-SSL localhost as the endpoint:</p><pre>let dynamo :: Service
    dynamo = setEndpoint False &quot;localhost&quot; 8000 dynamoDB</pre><p>The updated configuration is then passed to the <code><a href="Network-AWS.html#t:Env">Env</a></code> during setup:</p><pre>e &lt;- newEnv Frankfurt Discover &lt;&amp;&gt; configure dynamo
runAWS e $ do
    -- This S3 operation will communicate with remote AWS APIs.
    x &lt;- send listBuckets

    -- DynamoDB operations will communicate with localhost:8000.
    y &lt;- send listTables

    -- Any operations for services other than DynamoDB, are not affected.
    ...</pre><p>You can also scope the <code><a href="Network-AWS.html#t:Endpoint">Endpoint</a></code> modifications (or any other <code>Service</code> configuration)
to specific actions:</p><pre>e &lt;- newEnv Ireland Discover
runAWS e $ do
    -- Service operations here will communicate with AWS, even DynamoDB.
    x &lt;- send listTables

    reconfigure dynamo $ do
       -- In here, DynamoDB operations will communicate with localhost:8000,
       -- with operations for services not being affected.
       ...</pre><p>Functions such as <code><a href="Network-AWS.html#v:within">within</a></code>, <code><a href="Network-AWS.html#v:once">once</a></code>, and <code><a href="Network-AWS.html#v:timeout">timeout</a></code> likewise modify the underlying
configuration for all service requests within their respective scope.</p></div><h3 id="g:10">Overriding Defaults</h3><div class="top"><p class="src"><a name="v:configure" class="def">configure</a> :: <a href="Network-AWS.html#t:HasEnv">HasEnv</a> a =&gt; Service -&gt; a -&gt; a</p><div class="doc"><p>Configure a specific service. All requests belonging to the
 supplied service will use this configuration instead of the default.</p><p>It's suggested you use a modified version of the default service, such
 as <code>Network.AWS.DynamoDB.dynamoDB</code>.</p><p><em>See:</em> <code><a href="Network-AWS-Env.html#v:reconfigure">reconfigure</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:override" class="def">override</a> :: <a href="Network-AWS.html#t:HasEnv">HasEnv</a> a =&gt; (Service -&gt; Service) -&gt; a -&gt; a</p><div class="doc"><p>Provide a function which will be added to the existing stack
 of overrides applied to all service configuration.</p><p>To override a specific service, it's suggested you use
 either <code><a href="Network-AWS.html#v:configure">configure</a></code> or <code><a href="Network-AWS-Env.html#v:reconfigure">reconfigure</a></code> with a modified version of the default
 service, such as <code>Network.AWS.DynamoDB.dynamoDB</code>.</p></div></div><h3 id="g:11">Scoped Actions</h3><div class="top"><p class="src"><a name="v:reconfigure" class="def">reconfigure</a> :: <a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> m =&gt; Service -&gt; <a href="Network-AWS.html#t:AWS">AWS</a> a -&gt; m a</p><div class="doc"><p>Scope an action such that all requests belonging to the supplied service
 will use this configuration instead of the default.</p><p>It's suggested you use a modified version of the default service, such
 as <code>Network.AWS.DynamoDB.dynamoDB</code>.</p><p><em>See:</em> <code><a href="Network-AWS.html#v:configure">configure</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:within" class="def">within</a> :: <a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> m =&gt; <a href="Network-AWS.html#t:Region">Region</a> -&gt; <a href="Network-AWS.html#t:AWS">AWS</a> a -&gt; m a</p><div class="doc"><p>Scope an action within the specific <code><a href="Network-AWS.html#t:Region">Region</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:once" class="def">once</a> :: <a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> m =&gt; <a href="Network-AWS.html#t:AWS">AWS</a> a -&gt; m a</p><div class="doc"><p>Scope an action such that any retry logic for the <code>Service</code> is
 ignored and any requests will at most be sent once.</p></div></div><div class="top"><p class="src"><a name="v:timeout" class="def">timeout</a> :: <a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> m =&gt; Seconds -&gt; <a href="Network-AWS.html#t:AWS">AWS</a> a -&gt; m a</p><div class="doc"><p>Scope an action such that any HTTP response will use this timeout value.</p></div></div><h2 id="g:12">Streaming</h2><div class="doc"><p>Streaming comes in two flavours. <code><a href="Network-AWS.html#t:HashedBody">HashedBody</a></code> represents a request
that requires a precomputed <code>SHA256</code> hash, or a <code><a href="Network-AWS.html#t:ChunkedBody">ChunkedBody</a></code> type for those services
that can perform incremental signing and do not require the entire payload to
be hashed (such as <code>S3</code>). The type signatures for request smart constructors
advertise which respective body type is required, denoting the underlying signing
capabilities.</p><p><code><a href="Network-AWS.html#t:ToHashedBody">ToHashedBody</a></code> and <code><a href="Network-AWS.html#t:ToBody">ToBody</a></code> typeclass instances are available to construct the
streaming bodies, automatically calculating any hash or size as needed for types
such as <code>Text</code>, <code>ByteString</code>, or Aeson's <code>Value</code> type. To read files and other
<code><a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a></code> primitives, functions such as <code><a href="Network-AWS.html#v:hashedFile">hashedFile</a></code>, <code><a href="Network-AWS.html#v:chunkedFile">chunkedFile</a></code>, or <code><a href="Network-AWS.html#v:hashedBody">hashedBody</a></code>
should be used.</p><p>For responses that contain streaming bodies (such as <code>GetObject</code>), you can use
<code><a href="Network-AWS.html#v:sinkBody">sinkBody</a></code> to connect the response body to a <a href="http://hackage.haskell.org/package/conduit">conduit</a>
compatible sink.</p></div><h3 id="g:13">Request Bodies</h3><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:ToHashedBody" class="def">ToHashedBody</a> a <span class="keyword">where</span></p><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:toHashed" class="def">toHashed</a> :: a -&gt; <a href="Network-AWS.html#t:HashedBody">HashedBody</a></p></div><div class="subs instances"><p id="control.i:ToHashedBody" class="caption collapser" onclick="toggleSection('i:ToHashedBody')">Instances</p><div id="section.i:ToHashedBody" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS.html#t:ToHashedBody">ToHashedBody</a> <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS.html#t:ToHashedBody">ToHashedBody</a> ByteString</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS.html#t:ToHashedBody">ToHashedBody</a> Text</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS.html#t:ToHashedBody">ToHashedBody</a> ByteString</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS.html#t:ToHashedBody">ToHashedBody</a> Text</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS.html#t:ToHashedBody">ToHashedBody</a> QueryString</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS.html#t:ToHashedBody">ToHashedBody</a> <a href="Network-AWS.html#t:HashedBody">HashedBody</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS.html#t:ToHashedBody">ToHashedBody</a> Base64</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS.html#t:ToHashedBody">ToHashedBody</a> Value</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS.html#t:ToHashedBody">ToHashedBody</a> Element</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS.html#t:ToHashedBody">ToHashedBody</a> (HashMap Text Value)</span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:hashedFile" class="def">hashedFile</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: MonadIO m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../base-4.8.2.0/System-IO.html#t:FilePath">FilePath</a></td><td class="doc"><p>The file path to read.</p></td></tr><tr><td class="src">-&gt; m <a href="Network-AWS.html#t:HashedBody">HashedBody</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Construct a <code><a href="Network-AWS.html#t:HashedBody">HashedBody</a></code> from a <code><a href="../base-4.8.2.0/System-IO.html#t:FilePath">FilePath</a></code>, calculating the <code>SHA256</code> hash
 and file size.</p><p><em>Note:</em> While this function will perform in constant space, it will enumerate the
 entirety of the file contents _twice_. Firstly to calculate the SHA256 and
 lastly to stream the contents to the socket during sending.</p><p><em>See:</em> <code><a href="Network-AWS.html#t:ToHashedBody">ToHashedBody</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:hashedFileRange" class="def">hashedFileRange</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: MonadIO m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../base-4.8.2.0/System-IO.html#t:FilePath">FilePath</a></td><td class="doc"><p>The file path to read.</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.8.2.0/Prelude.html#t:Integer">Integer</a></td><td class="doc"><p>The byte offset at which to start reading.</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.8.2.0/Prelude.html#t:Integer">Integer</a></td><td class="doc"><p>The maximum number of bytes to read.</p></td></tr><tr><td class="src">-&gt; m <a href="Network-AWS.html#t:HashedBody">HashedBody</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Construct a <code><a href="Network-AWS.html#t:HashedBody">HashedBody</a></code> from a <code><a href="../base-4.8.2.0/System-IO.html#t:FilePath">FilePath</a></code>, specifying the range of bytes
 to read. This can be useful for constructing multiple requests from a single
 file, say for S3 multipart uploads.</p><p><em>See:</em> <code><a href="Network-AWS.html#v:hashedFile">hashedFile</a></code>, <code>sourceFileRange</code>.</p></div></div><div class="top"><p class="src"><a name="v:hashedBody" class="def">hashedBody</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Digest SHA256</td><td class="doc"><p>A SHA256 hash of the file contents.</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.8.2.0/Prelude.html#t:Integer">Integer</a></td><td class="doc"><p>The size of the stream in bytes.</p></td></tr><tr><td class="src">-&gt; Source (ResourceT <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a>) ByteString</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Network-AWS.html#t:HashedBody">HashedBody</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Construct a <code><a href="Network-AWS.html#t:HashedBody">HashedBody</a></code> from a <code>Source</code>, manually specifying the <code>SHA256</code>
 hash and file size. It's left up to the caller to calculate these correctly,
 otherwise AWS will return signing errors.</p><p><em>See:</em> <code><a href="Network-AWS.html#t:ToHashedBody">ToHashedBody</a></code>.</p></div></div><h3 id="g:14">Chunked Request Bodies</h3><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:ToBody" class="def">ToBody</a> a <span class="keyword">where</span></p><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src">Nothing</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:toBody" class="def">toBody</a> :: a -&gt; <a href="Network-AWS.html#t:RqBody">RqBody</a></p></div><div class="subs instances"><p id="control.i:ToBody" class="caption collapser" onclick="toggleSection('i:ToBody')">Instances</p><div id="section.i:ToBody" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS.html#t:ToBody">ToBody</a> <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS.html#t:ToBody">ToBody</a> ByteString</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS.html#t:ToBody">ToBody</a> Text</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS.html#t:ToBody">ToBody</a> ByteString</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS.html#t:ToBody">ToBody</a> Text</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS.html#t:ToBody">ToBody</a> QueryString</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS.html#t:ToBody">ToBody</a> <a href="Network-AWS.html#t:RqBody">RqBody</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS.html#t:ToBody">ToBody</a> <a href="Network-AWS.html#t:HashedBody">HashedBody</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS.html#t:ToBody">ToBody</a> <a href="Network-AWS.html#t:ChunkedBody">ChunkedBody</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS.html#t:ToBody">ToBody</a> Base64</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS.html#t:ToBody">ToBody</a> Value</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS.html#t:ToBody">ToBody</a> Element</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS.html#t:ToHashedBody">ToHashedBody</a> a =&gt; <a href="Network-AWS.html#t:ToBody">ToBody</a> (<a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> a)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS.html#t:ToBody">ToBody</a> (HashMap Text Value)</span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a name="t:ChunkSize" class="def">ChunkSize</a> :: *</p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:ChunkSize" class="def">ChunkSize</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:ChunkSize" class="caption collapser" onclick="toggleSection('i:ChunkSize')">Instances</p><div id="section.i:ChunkSize" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Prelude.html#t:Enum">Enum</a> <a href="Network-AWS.html#t:ChunkSize">ChunkSize</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a> <a href="Network-AWS.html#t:ChunkSize">ChunkSize</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Prelude.html#t:Integral">Integral</a> <a href="Network-AWS.html#t:ChunkSize">ChunkSize</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Prelude.html#t:Num">Num</a> <a href="Network-AWS.html#t:ChunkSize">ChunkSize</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Ord.html#t:Ord">Ord</a> <a href="Network-AWS.html#t:ChunkSize">ChunkSize</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Prelude.html#t:Real">Real</a> <a href="Network-AWS.html#t:ChunkSize">ChunkSize</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> <a href="Network-AWS.html#t:ChunkSize">ChunkSize</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS-Data.html#t:ToLog">ToLog</a> <a href="Network-AWS.html#t:ChunkSize">ChunkSize</a></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:defaultChunkSize" class="def">defaultChunkSize</a> :: <a href="Network-AWS.html#t:ChunkSize">ChunkSize</a></p></div><div class="top"><p class="src"><a name="v:chunkedFile" class="def">chunkedFile</a> :: MonadIO m =&gt; <a href="Network-AWS.html#t:ChunkSize">ChunkSize</a> -&gt; <a href="../base-4.8.2.0/System-IO.html#t:FilePath">FilePath</a> -&gt; m <a href="Network-AWS.html#t:RqBody">RqBody</a></p><div class="doc"><p>Construct a <code><a href="Network-AWS.html#t:ChunkedBody">ChunkedBody</a></code> from a <code><a href="../base-4.8.2.0/System-IO.html#t:FilePath">FilePath</a></code>, where the contents will be
 read and signed incrementally in chunks if the target service supports it.</p><p>Will intelligently revert to <code><a href="Network-AWS.html#t:HashedBody">HashedBody</a></code> if the file is smaller than the
 specified <code><a href="Network-AWS.html#t:ChunkSize">ChunkSize</a></code>.</p><p><em>See:</em> <code><a href="Network-AWS.html#t:ToBody">ToBody</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:chunkedFileRange" class="def">chunkedFileRange</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: MonadIO m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Network-AWS.html#t:ChunkSize">ChunkSize</a></td><td class="doc"><p>The idealized size of chunks that will be yielded downstream.</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.8.2.0/System-IO.html#t:FilePath">FilePath</a></td><td class="doc"><p>The file path to read.</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.8.2.0/Prelude.html#t:Integer">Integer</a></td><td class="doc"><p>The byte offset at which to start reading.</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.8.2.0/Prelude.html#t:Integer">Integer</a></td><td class="doc"><p>The maximum number of bytes to read.</p></td></tr><tr><td class="src">-&gt; m <a href="Network-AWS.html#t:RqBody">RqBody</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Construct a <code><a href="Network-AWS.html#t:ChunkedBody">ChunkedBody</a></code> from a <code><a href="../base-4.8.2.0/System-IO.html#t:FilePath">FilePath</a></code>, specifying the range of bytes
 to read. This can be useful for constructing multiple requests from a single
 file, say for S3 multipart uploads.</p><p><em>See:</em> <code><a href="Network-AWS.html#v:chunkedFile">chunkedFile</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:unsafeChunkedBody" class="def">unsafeChunkedBody</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Network-AWS.html#t:ChunkSize">ChunkSize</a></td><td class="doc"><p>The idealized size of chunks that will be yielded downstream.</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.8.2.0/Prelude.html#t:Integer">Integer</a></td><td class="doc"><p>The size of the stream in bytes.</p></td></tr><tr><td class="src">-&gt; Source (ResourceT <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a>) ByteString</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Network-AWS.html#t:RqBody">RqBody</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Unsafely construct a <code><a href="Network-AWS.html#t:ChunkedBody">ChunkedBody</a></code>.</p><p>This function is marked unsafe because it does nothing to enforce the chunk size.
 Typically for conduit <code><a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a></code> functions, it's whatever ByteString's
 <code>defaultBufferSize</code> is, around 32 KB. If the chunk size is less than 8 KB,
 the request will error. 64 KB or higher chunk size is recommended for
 performance reasons.</p><p>Note that it will always create a chunked body even if the request
 is too small.</p><p><em>See:</em> <code><a href="Network-AWS.html#t:ToBody">ToBody</a></code>.</p></div></div><h3 id="g:15">Response Bodies</h3><div class="top"><p class="src"><a name="v:sinkBody" class="def">sinkBody</a> :: MonadResource m =&gt; <a href="Network-AWS.html#t:RsBody">RsBody</a> -&gt; Sink ByteString m a -&gt; m a</p><div class="doc"><p>Connect a <code>Sink</code> to a response stream.</p></div></div><h3 id="g:16">File Size and MD5/SHA256</h3><div class="top"><p class="src"><a name="v:getFileSize" class="def">getFileSize</a> :: MonadIO m =&gt; <a href="../base-4.8.2.0/System-IO.html#t:FilePath">FilePath</a> -&gt; m <a href="../base-4.8.2.0/Prelude.html#t:Integer">Integer</a></p><div class="doc"><p>Convenience function for obtaining the size of a file.</p></div></div><div class="top"><p class="src"><a name="v:sinkMD5" class="def">sinkMD5</a> :: <a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; Consumer ByteString m (Digest MD5)</p><div class="doc"><p>Incrementally calculate a <code>MD5</code> <code>Digest</code>.</p></div></div><div class="top"><p class="src"><a name="v:sinkSHA256" class="def">sinkSHA256</a> :: <a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; Consumer ByteString m (Digest SHA256)</p><div class="doc"><p>Incrementally calculate a <code>SHA256</code> <code>Digest</code>.</p></div></div><h1 id="g:17">Presigning Requests</h1><div class="doc"><p>Presigning requires the <code>Service</code> signer to be an instance of <code>AWSPresigner</code>.
Not all signing algorithms support this.</p></div><div class="top"><p class="src"><a name="v:presignURL" class="def">presignURL</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> m, AWSRequest a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; UTCTime</td><td class="doc"><p>Signing time.</p></td></tr><tr><td class="src">-&gt; Seconds</td><td class="doc"><p>Expiry time.</p></td></tr><tr><td class="src">-&gt; a</td><td class="doc"><p>Request to presign.</p></td></tr><tr><td class="src">-&gt; m ByteString</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Presign an URL that is valid from the specified time until the
 number of seconds expiry has elapsed.</p></div></div><h1 id="g:18">EC2 Instance Metadata</h1><div class="doc"><p>Metadata can be retrieved from the underlying host assuming that you're running
the code on an EC2 instance or have a compatible <code>instance-data</code> endpoint available.</p></div><div class="top"><p class="src"><a name="v:isEC2" class="def">isEC2</a> :: <a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> m =&gt; m <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a></p><div class="doc"><p>Test whether the underlying host is running on EC2.
 This is memoised and an HTTP request is made to the host's metadata
 endpoint for the first call only.</p></div></div><div class="top"><p class="src"><a name="v:dynamic" class="def">dynamic</a> :: <a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> m =&gt; <a href="Network-AWS.html#t:Dynamic">Dynamic</a> -&gt; m ByteString</p><div class="doc"><p>Retrieve the specified <code>Dynamic</code> data.</p></div></div><div class="top"><p class="src"><a name="v:metadata" class="def">metadata</a> :: <a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> m =&gt; <a href="Network-AWS.html#t:Metadata">Metadata</a> -&gt; m ByteString</p><div class="doc"><p>Retrieve the specified <code>Metadata</code>.</p></div></div><div class="top"><p class="src"><a name="v:userdata" class="def">userdata</a> :: <a href="Network-AWS.html#t:MonadAWS">MonadAWS</a> m =&gt; m (<a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> ByteString)</p><div class="doc"><p>Retrieve the user data. Returns <code><a href="../base-4.8.2.0/Data-Maybe.html#v:Nothing">Nothing</a></code> if no user data is assigned
 to the instance.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Dynamic" class="def">Dynamic</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:FWS" class="def">FWS</a></td><td class="doc"><p>Value showing whether the customer has enabled detailed one-minute
 monitoring in CloudWatch.</p><p>Valid values: enabled | disabled.</p></td></tr><tr><td class="src"><a name="v:Document" class="def">Document</a></td><td class="doc"><p>JSON containing instance attributes, such as instance-id,
 private IP address, etc.
 <em>See:</em> <code><a href="Network-AWS-EC2-Metadata.html#v:identity">identity</a></code>, <code>InstanceDocument</code>.</p></td></tr><tr><td class="src"><a name="v:PKCS7" class="def">PKCS7</a></td><td class="doc"><p>Used to verify the document's authenticity and content against the
 signature.</p></td></tr><tr><td class="src"><a name="v:Signature" class="def">Signature</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Dynamic" class="caption collapser" onclick="toggleSection('i:Dynamic')">Instances</p><div id="section.i:Dynamic" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a> <a href="Network-AWS.html#t:Dynamic">Dynamic</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Ord.html#t:Ord">Ord</a> <a href="Network-AWS.html#t:Dynamic">Dynamic</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> <a href="Network-AWS.html#t:Dynamic">Dynamic</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS-Data.html#t:ToText">ToText</a> <a href="Network-AWS.html#t:Dynamic">Dynamic</a></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Metadata" class="def">Metadata</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:AMIId" class="def">AMIId</a></td><td class="doc"><p>The AMI ID used to launch the instance.</p></td></tr><tr><td class="src"><a name="v:AMILaunchIndex" class="def">AMILaunchIndex</a></td><td class="doc"><p>If you started more than one instance at the same time, this value
 indicates the order in which the instance was launched.
 The value of the first instance launched is 0.</p></td></tr><tr><td class="src"><a name="v:AMIManifestPath" class="def">AMIManifestPath</a></td><td class="doc"><p>The path to the AMI's manifest file in Amazon S3.
 If you used an Amazon EBS-backed AMI to launch the instance,
 the returned result is unknown.</p></td></tr><tr><td class="src"><a name="v:AncestorAMIIds" class="def">AncestorAMIIds</a></td><td class="doc"><p>The AMI IDs of any instances that were rebundled to create this AMI.
 This value will only exist if the AMI manifest file contained an
 ancestor-amis key.</p></td></tr><tr><td class="src"><a name="v:BlockDevice" class="def">BlockDevice</a> !<a href="Network-AWS-EC2-Metadata.html#t:Mapping">Mapping</a></td><td class="doc"><p>See: <code><a href="Network-AWS-EC2-Metadata.html#t:Mapping">Mapping</a></code></p></td></tr><tr><td class="src"><a name="v:Hostname" class="def">Hostname</a></td><td class="doc"><p>The private hostname of the instance. In cases where multiple network
 interfaces are present, this refers to the eth0 device
 (the device for which the device number is 0).</p></td></tr><tr><td class="src"><a name="v:IAM" class="def">IAM</a> !<a href="Network-AWS-EC2-Metadata.html#t:Info">Info</a></td><td class="doc"><p>See: <code><a href="Network-AWS-EC2-Metadata.html#t:Info">Info</a></code></p></td></tr><tr><td class="src"><a name="v:InstanceAction" class="def">InstanceAction</a></td><td class="doc"><p>Notifies the instance that it should reboot in preparation for bundling.
 Valid values: none | shutdown | bundle-pending.</p></td></tr><tr><td class="src"><a name="v:InstanceId" class="def">InstanceId</a></td><td class="doc"><p>The ID of this instance.</p></td></tr><tr><td class="src"><a name="v:InstanceType" class="def">InstanceType</a></td><td class="doc"><p>The type of instance.</p><p>See: <code>InstanceType</code></p></td></tr><tr><td class="src"><a name="v:KernelId" class="def">KernelId</a></td><td class="doc"><p>The ID of the kernel launched with this instance, if applicable.</p></td></tr><tr><td class="src"><a name="v:LocalHostname" class="def">LocalHostname</a></td><td class="doc"><p>The private DNS hostname of the instance. In cases where multiple
 network interfaces are present, this refers to the eth0 device
 (the device for which the device number is 0).</p></td></tr><tr><td class="src"><a name="v:LocalIPV4" class="def">LocalIPV4</a></td><td class="doc"><p>The private IP address of the instance. In cases where multiple network
 interfaces are present, this refers to the eth0 device
 (the device for which the device number is 0).</p></td></tr><tr><td class="src"><a name="v:MAC" class="def">MAC</a></td><td class="doc"><p>The instance's media access control (MAC) address. In cases where
 multiple network interfaces are present, this refers to the eth0 device
 (the device for which the device number is 0).</p></td></tr><tr><td class="src"><a name="v:Network" class="def">Network</a> !Text !<a href="Network-AWS-EC2-Metadata.html#t:Interface">Interface</a></td><td class="doc"><p>See: <code><a href="Network-AWS-EC2-Metadata.html#t:Interface">Interface</a></code></p></td></tr><tr><td class="src"><a name="v:AvailabilityZone" class="def">AvailabilityZone</a></td><td class="doc"><p>The Availability Zone in which the instance launched.</p></td></tr><tr><td class="src"><a name="v:ProductCodes" class="def">ProductCodes</a></td><td class="doc"><p>Product codes associated with the instance, if any.</p></td></tr><tr><td class="src"><a name="v:PublicHostname" class="def">PublicHostname</a></td><td class="doc"><p>The instance's public DNS. If the instance is in a VPC, this category
 is only returned if the enableDnsHostnames attribute is set to true.
 For more information, see Using DNS with Your VPC.</p></td></tr><tr><td class="src"><a name="v:PublicIPV4" class="def">PublicIPV4</a></td><td class="doc"><p>The public IP address. If an Elastic IP address is associated with the
 instance, the value returned is the Elastic IP address.</p></td></tr><tr><td class="src"><a name="v:OpenSSHKey" class="def">OpenSSHKey</a></td><td class="doc"><p>Public key. Only available if supplied at instance launch time.</p></td></tr><tr><td class="src"><a name="v:RAMDiskId" class="def">RAMDiskId</a></td><td class="doc"><p>The ID of the RAM disk specified at launch time, if applicable.</p></td></tr><tr><td class="src"><a name="v:ReservationId" class="def">ReservationId</a></td><td class="doc"><p>ID of the reservation.</p></td></tr><tr><td class="src"><a name="v:SecurityGroups" class="def">SecurityGroups</a></td><td class="doc"><p>The names of the security groups applied to the instance.</p></td></tr></table></div><div class="subs instances"><p id="control.i:Metadata" class="caption collapser" onclick="toggleSection('i:Metadata')">Instances</p><div id="section.i:Metadata" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a> <a href="Network-AWS.html#t:Metadata">Metadata</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Ord.html#t:Ord">Ord</a> <a href="Network-AWS.html#t:Metadata">Metadata</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> <a href="Network-AWS.html#t:Metadata">Metadata</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS-Data.html#t:ToText">ToText</a> <a href="Network-AWS.html#t:Metadata">Metadata</a></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h1 id="g:19">Running Asynchronous Actions</h1><div class="doc"><p>Requests can be sent asynchronously, but due to guarantees about resource closure
require the use of <a href="http://hackage.haskell.org/package/lifted-async">lifted-async</a>.</p><p>The following example demonstrates retrieving two objects from S3 concurrently:</p><pre>import Control.Concurrent.Async.Lifted
import Control.Lens
import Control.Monad.Trans.AWS
import Network.AWS.S3

do x   &lt;- async . send $ getObject &quot;bucket&quot; &quot;prefix/object-foo&quot;
   y   &lt;- async . send $ getObject &quot;bucket&quot; &quot;prefix/object-bar&quot;
   foo &lt;- wait x
   bar &lt;- wait y
   ...</pre><p><em>See:</em> <a href="http://hackage.haskell.org/package/lifted-async">Control.Concurrent.Async.Lifted</a></p></div><h1 id="g:20">Handling Errors</h1><div class="doc"><p>Errors are thrown by the library using <code>MonadThrow</code> (unless <a href="Control-Monad-Error-AWS.html">Control.Monad.Error.AWS</a> is used).
Sub-errors of the canonical <code>Error</code> type can be caught using <code>trying</code> or
<code>catching</code> and the appropriate <code><a href="Network-AWS.html#t:AsError">AsError</a></code> <code>Prism</code>:</p><pre>trying <code><a href="Network-AWS.html#v:_Error">_Error</a></code>          (send $ ListObjects &quot;bucket-name&quot;) :: Either <code>Error</code>          ListObjectsResponse
trying <code><a href="Network-AWS.html#v:_TransportError">_TransportError</a></code> (send $ ListObjects &quot;bucket-name&quot;) :: Either <code>HttpException</code>  ListObjectsResponse
trying <code><a href="Network-AWS.html#v:_SerializeError">_SerializeError</a></code> (send $ ListObjects &quot;bucket-name&quot;) :: Either <code>SerializeError</code> ListObjectsResponse
trying <code><a href="Network-AWS.html#v:_ServiceError">_ServiceError</a></code>   (send $ ListObjects &quot;bucket-name&quot;) :: Either <code>ServiceError</code>   ListObjectsResponse
</pre><p>Many of the individual <code>amazonka-*</code> libraries export compatible <code>Getter</code>s for
matching service specific error codes and messages in the style above.
See the <code>Error Matchers</code> heading in each respective library for details.</p></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:AsError" class="def">AsError</a> a <span class="keyword">where</span></p><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="Network-AWS.html#v:_Error">_Error</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:_Error" class="def">_Error</a> :: Prism' a Error</p><p class="src"><a name="v:_TransportError" class="def">_TransportError</a> :: Prism' a HttpException</p><p class="src"><a name="v:_SerializeError" class="def">_SerializeError</a> :: Prism' a SerializeError</p><p class="src"><a name="v:_ServiceError" class="def">_ServiceError</a> :: Prism' a ServiceError</p></div><div class="subs instances"><p id="control.i:AsError" class="caption collapser" onclick="toggleSection('i:AsError')">Instances</p><div id="section.i:AsError" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS.html#t:AsError">AsError</a> <a href="../base-4.8.2.0/Control-Exception-Base.html#t:SomeException">SomeException</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS.html#t:AsError">AsError</a> Error</span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:AsAuthError" class="def">AsAuthError</a> a <span class="keyword">where</span></p><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="Network-AWS.html#v:_AuthError">_AuthError</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:_AuthError" class="def">_AuthError</a> :: Prism' a <a href="Network-AWS-Auth.html#t:AuthError">AuthError</a></p><div class="doc"><p>A general authentication error.</p></div><p class="src"><a name="v:_RetrievalError" class="def">_RetrievalError</a> :: Prism' a HttpException</p><div class="doc"><p>An error occured while communicating over HTTP with
 the local metadata endpoint.</p></div><p class="src"><a name="v:_MissingEnvError" class="def">_MissingEnvError</a> :: Prism' a Text</p><div class="doc"><p>The named environment variable was not found.</p></div><p class="src"><a name="v:_InvalidEnvError" class="def">_InvalidEnvError</a> :: Prism' a Text</p><div class="doc"><p>An error occured parsing named environment variable's value.</p></div><p class="src"><a name="v:_MissingFileError" class="def">_MissingFileError</a> :: Prism' a <a href="../base-4.8.2.0/System-IO.html#t:FilePath">FilePath</a></p><div class="doc"><p>The specified credentials file could not be found.</p></div><p class="src"><a name="v:_InvalidFileError" class="def">_InvalidFileError</a> :: Prism' a Text</p><div class="doc"><p>An error occured parsing the credentials file.</p></div><p class="src"><a name="v:_InvalidIAMError" class="def">_InvalidIAMError</a> :: Prism' a Text</p><div class="doc"><p>The specified IAM profile could not be found or deserialised.</p></div></div><div class="subs instances"><p id="control.i:AsAuthError" class="caption collapser" onclick="toggleSection('i:AsAuthError')">Instances</p><div id="section.i:AsAuthError" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS.html#t:AsAuthError">AsAuthError</a> <a href="../base-4.8.2.0/Control-Exception-Base.html#t:SomeException">SomeException</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS.html#t:AsAuthError">AsAuthError</a> <a href="Network-AWS-Auth.html#t:AuthError">AuthError</a></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:trying" class="def">trying</a> :: MonadCatch m =&gt; Getting (<a href="../base-4.8.2.0/Data-Monoid.html#t:First">First</a> a) <a href="../base-4.8.2.0/Control-Exception-Base.html#t:SomeException">SomeException</a> a -&gt; m r -&gt; m (<a href="../base-4.8.2.0/Data-Either.html#t:Either">Either</a> a r)</p></div><div class="top"><p class="src"><a name="v:catching" class="def">catching</a> :: MonadCatch m =&gt; Getting (<a href="../base-4.8.2.0/Data-Monoid.html#t:First">First</a> a) <a href="../base-4.8.2.0/Control-Exception-Base.html#t:SomeException">SomeException</a> a -&gt; m r -&gt; (a -&gt; m r) -&gt; m r</p></div><h2 id="g:21">Building Error Prisms</h2><div class="top"><p class="src"><a name="v:_MatchServiceError" class="def">_MatchServiceError</a> :: <a href="Network-AWS.html#t:AsError">AsError</a> a =&gt; Service -&gt; ErrorCode -&gt; Getting (<a href="../base-4.8.2.0/Data-Monoid.html#t:First">First</a> ServiceError) a ServiceError</p></div><div class="top"><p class="src"><a name="v:hasService" class="def">hasService</a> :: (<a href="../base-4.8.2.0/Control-Applicative.html#t:Applicative">Applicative</a> f, Choice p) =&gt; Service -&gt; Optic' * * p f ServiceError ServiceError</p></div><div class="top"><p class="src"><a name="v:hasStatus" class="def">hasStatus</a> :: (<a href="../base-4.8.2.0/Control-Applicative.html#t:Applicative">Applicative</a> f, Choice p) =&gt; <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a> -&gt; Optic' * * p f ServiceError ServiceError</p></div><div class="top"><p class="src"><a name="v:hasCode" class="def">hasCode</a> :: (<a href="../base-4.8.2.0/Control-Applicative.html#t:Applicative">Applicative</a> f, Choice p) =&gt; ErrorCode -&gt; Optic' * * p f ServiceError ServiceError</p></div><h1 id="g:22">Logging</h1><div class="doc"><p>The exposed logging interface is a primitive <code><a href="Network-AWS.html#t:Logger">Logger</a></code> function which gets
threaded through service calls and serialisation routines. This allows the
library to output useful information and diagnostics.</p><p>The <code><a href="Network-AWS.html#v:newLogger">newLogger</a></code> function can be used to construct a simple logger which writes
output to a <code>Handle</code>, but in most production code you should probably consider
using a more robust logging library such as
<a href="http://hackage.haskell.org/package/tiny-log">tiny-log</a> or
<a href="http://hackage.haskell.org/package/fast-logger">fast-logger</a>.</p></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Logger" class="def">Logger</a> = <a href="Network-AWS.html#t:LogLevel">LogLevel</a> -&gt; Builder -&gt; <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> ()</p></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:LogLevel" class="def">LogLevel</a> :: *</p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Info" class="def">Info</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Error" class="def">Error</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Debug" class="def">Debug</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Trace" class="def">Trace</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:LogLevel" class="caption collapser" onclick="toggleSection('i:LogLevel')">Instances</p><div id="section.i:LogLevel" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Prelude.html#t:Enum">Enum</a> <a href="Network-AWS.html#t:LogLevel">LogLevel</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a> <a href="Network-AWS.html#t:LogLevel">LogLevel</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Data.html#t:Data">Data</a> <a href="Network-AWS.html#t:LogLevel">LogLevel</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Ord.html#t:Ord">Ord</a> <a href="Network-AWS.html#t:LogLevel">LogLevel</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> <a href="Network-AWS.html#t:LogLevel">LogLevel</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS-Data.html#t:ToText">ToText</a> <a href="Network-AWS.html#t:LogLevel">LogLevel</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS-Data.html#t:ToByteString">ToByteString</a> <a href="Network-AWS.html#t:LogLevel">LogLevel</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS-Data.html#t:FromText">FromText</a> <a href="Network-AWS.html#t:LogLevel">LogLevel</a></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h2 id="g:23">Constructing a Logger</h2><div class="top"><p class="src"><a name="v:newLogger" class="def">newLogger</a> :: MonadIO m =&gt; <a href="Network-AWS.html#t:LogLevel">LogLevel</a> -&gt; <a href="../base-4.8.2.0/GHC-IO-Handle.html#t:Handle">Handle</a> -&gt; m <a href="Network-AWS.html#t:Logger">Logger</a></p><div class="doc"><p>This is a primitive logger which can be used to log builds to a <code><a href="../base-4.8.2.0/GHC-IO-Handle.html#t:Handle">Handle</a></code>.</p><p><em>Note:</em> A more sophisticated logging library such as
 <a href="http://hackage.haskell.org/package/tinylog">tinylog</a> or
 <a href="http://hackage.haskell.org/package/FastLogger">fast-logger</a>
 should be used in production code.</p></div></div><h2 id="g:24">Endpoints</h2><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Endpoint" class="def">Endpoint</a> :: *</p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Endpoint" class="def">Endpoint</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:_endpointHost" class="def">_endpointHost</a> :: ByteString</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:_endpointSecure" class="def">_endpointSecure</a> :: !<a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:_endpointPort" class="def">_endpointPort</a> :: !<a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:_endpointScope" class="def">_endpointScope</a> :: ByteString</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:Endpoint" class="caption collapser" onclick="toggleSection('i:Endpoint')">Instances</p><div id="section.i:Endpoint" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a> <a href="Network-AWS.html#t:Endpoint">Endpoint</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Data.html#t:Data">Data</a> <a href="Network-AWS.html#t:Endpoint">Endpoint</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> <a href="Network-AWS.html#t:Endpoint">Endpoint</a></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:setEndpoint" class="def">setEndpoint</a> :: <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a> -&gt; ByteString -&gt; <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a> -&gt; Service -&gt; Service</p></div><h1 id="g:25">Re-exported Types</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:RqBody" class="def">RqBody</a> :: *</p><div class="subs instances"><p id="control.i:RqBody" class="caption collapser" onclick="toggleSection('i:RqBody')">Instances</p><div id="section.i:RqBody" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> <a href="Network-AWS.html#t:RqBody">RqBody</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-String.html#t:IsString">IsString</a> <a href="Network-AWS.html#t:RqBody">RqBody</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS.html#t:ToBody">ToBody</a> <a href="Network-AWS.html#t:RqBody">RqBody</a></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:HashedBody" class="def">HashedBody</a> :: *</p><div class="subs instances"><p id="control.i:HashedBody" class="caption collapser" onclick="toggleSection('i:HashedBody')">Instances</p><div id="section.i:HashedBody" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> <a href="Network-AWS.html#t:HashedBody">HashedBody</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-String.html#t:IsString">IsString</a> <a href="Network-AWS.html#t:HashedBody">HashedBody</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS.html#t:ToHashedBody">ToHashedBody</a> <a href="Network-AWS.html#t:HashedBody">HashedBody</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS.html#t:ToBody">ToBody</a> <a href="Network-AWS.html#t:HashedBody">HashedBody</a></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:ChunkedBody" class="def">ChunkedBody</a> :: *</p><div class="subs instances"><p id="control.i:ChunkedBody" class="caption collapser" onclick="toggleSection('i:ChunkedBody')">Instances</p><div id="section.i:ChunkedBody" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> <a href="Network-AWS.html#t:ChunkedBody">ChunkedBody</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Network-AWS.html#t:ToBody">ToBody</a> <a href="Network-AWS.html#t:ChunkedBody">ChunkedBody</a></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:RsBody" class="def">RsBody</a> :: *</p><div class="subs instances"><p id="control.i:RsBody" class="caption collapser" onclick="toggleSection('i:RsBody')">Instances</p><div id="section.i:RsBody" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> <a href="Network-AWS.html#t:RsBody">RsBody</a></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>