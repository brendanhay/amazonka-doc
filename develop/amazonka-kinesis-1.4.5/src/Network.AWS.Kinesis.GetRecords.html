<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE DeriveDataTypeable #-}</span><span>
</span><a name="line-2"></a><span class="hs-pragma">{-# LANGUAGE DeriveGeneric      #-}</span><span>
</span><a name="line-3"></a><span class="hs-pragma">{-# LANGUAGE OverloadedStrings  #-}</span><span>
</span><a name="line-4"></a><span class="hs-pragma">{-# LANGUAGE RecordWildCards    #-}</span><span>
</span><a name="line-5"></a><span class="hs-pragma">{-# LANGUAGE TypeFamilies       #-}</span><span>
</span><a name="line-6"></a><span>
</span><a name="line-7"></a><span class="hs-pragma">{-# OPTIONS_GHC -fno-warn-unused-imports #-}</span><span>
</span><a name="line-8"></a><span class="hs-pragma">{-# OPTIONS_GHC -fno-warn-unused-binds   #-}</span><span>
</span><a name="line-9"></a><span class="hs-pragma">{-# OPTIONS_GHC -fno-warn-unused-matches #-}</span><span>
</span><a name="line-10"></a><span>
</span><a name="line-11"></a><span class="hs-comment">-- Derived from AWS service descriptions, licensed under Apache 2.0.</span><span>
</span><a name="line-12"></a><span>
</span><a name="line-13"></a><span class="hs-comment">-- |</span><span>
</span><a name="line-14"></a><span class="hs-comment">-- Module      : Network.AWS.Kinesis.GetRecords</span><span>
</span><a name="line-15"></a><span class="hs-comment">-- Copyright   : (c) 2013-2016 Brendan Hay</span><span>
</span><a name="line-16"></a><span class="hs-comment">-- License     : Mozilla Public License, v. 2.0.</span><span>
</span><a name="line-17"></a><span class="hs-comment">-- Maintainer  : Brendan Hay &lt;brendan.g.hay@gmail.com&gt;</span><span>
</span><a name="line-18"></a><span class="hs-comment">-- Stability   : auto-generated</span><span>
</span><a name="line-19"></a><span class="hs-comment">-- Portability : non-portable (GHC extensions)</span><span>
</span><a name="line-20"></a><span class="hs-comment">--</span><span>
</span><a name="line-21"></a><span class="hs-comment">-- Gets data records from an Amazon Kinesis stream's shard.</span><span>
</span><a name="line-22"></a><span class="hs-comment">--</span><span>
</span><a name="line-23"></a><span class="hs-comment">--</span><span>
</span><a name="line-24"></a><span class="hs-comment">-- Specify a shard iterator using the @ShardIterator@ parameter. The shard iterator specifies the position in the shard from which you want to start reading data records sequentially. If there are no records available in the portion of the shard that the iterator points to, 'GetRecords' returns an empty list. Note that it might take multiple calls to get to a portion of the shard that contains records.</span><span>
</span><a name="line-25"></a><span class="hs-comment">--</span><span>
</span><a name="line-26"></a><span class="hs-comment">-- You can scale by provisioning multiple shards per stream while considering service limits (for more information, see &lt;http://docs.aws.amazon.com/kinesis/latest/dev/service-sizes-and-limits.html Streams Limits&gt; in the /Amazon Kinesis Streams Developer Guide/ ). Your application should have one thread per shard, each reading continuously from its stream. To read from a stream continually, call 'GetRecords' in a loop. Use 'GetShardIterator' to get the shard iterator to specify in the first 'GetRecords' call. 'GetRecords' returns a new shard iterator in @NextShardIterator@ . Specify the shard iterator returned in @NextShardIterator@ in subsequent calls to 'GetRecords' . Note that if the shard has been closed, the shard iterator can't return more data and 'GetRecords' returns @null@ in @NextShardIterator@ . You can terminate the loop when the shard is closed, or when the shard iterator reaches the record with the sequence number or other attribute that marks it as the last record to process.</span><span>
</span><a name="line-27"></a><span class="hs-comment">--</span><span>
</span><a name="line-28"></a><span class="hs-comment">-- Each data record can be up to 1 MB in size, and each shard can read up to 2 MB per second. You can ensure that your calls don't exceed the maximum supported size or throughput by using the @Limit@ parameter to specify the maximum number of records that 'GetRecords' can return. Consider your average record size when determining this limit.</span><span>
</span><a name="line-29"></a><span class="hs-comment">--</span><span>
</span><a name="line-30"></a><span class="hs-comment">-- The size of the data returned by 'GetRecords' varies depending on the utilization of the shard. The maximum size of data that 'GetRecords' can return is 10 MB. If a call returns this amount of data, subsequent calls made within the next 5 seconds throw @ProvisionedThroughputExceededException@ . If there is insufficient provisioned throughput on the shard, subsequent calls made within the next 1 second throw @ProvisionedThroughputExceededException@ . Note that 'GetRecords' won't return any data when it throws an exception. For this reason, we recommend that you wait one second between calls to 'GetRecords' ; however, it's possible that the application will get exceptions for longer than 1 second.</span><span>
</span><a name="line-31"></a><span class="hs-comment">--</span><span>
</span><a name="line-32"></a><span class="hs-comment">-- To detect whether the application is falling behind in processing, you can use the @MillisBehindLatest@ response attribute. You can also monitor the stream using CloudWatch metrics and other mechanisms (see &lt;http://docs.aws.amazon.com/kinesis/latest/dev/monitoring.html Monitoring&gt; in the /Amazon Kinesis Streams Developer Guide/ ).</span><span>
</span><a name="line-33"></a><span class="hs-comment">--</span><span>
</span><a name="line-34"></a><span class="hs-comment">-- Each Amazon Kinesis record includes a value, @ApproximateArrivalTimestamp@ , that is set when a stream successfully receives and stores a record. This is commonly referred to as a server-side timestamp, whereas a client-side timestamp is set when a data producer creates or sends the record to a stream (a data producer is any data source putting data records into a stream, for example with 'PutRecords' ). The timestamp has millisecond precision. There are no guarantees about the timestamp accuracy, or that the timestamp is always increasing. For example, records in a shard or across a stream might have timestamps that are out of order.</span><span>
</span><a name="line-35"></a><span class="hs-comment">--</span><span>
</span><a name="line-36"></a><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Network</span><span class="hs-operator">.</span><span class="hs-identifier">AWS</span><span class="hs-operator">.</span><span class="hs-identifier">Kinesis</span><span class="hs-operator">.</span><span class="hs-identifier">GetRecords</span><span>
</span><a name="line-37"></a><span>    </span><span class="hs-special">(</span><span>
</span><a name="line-38"></a><span>    </span><span class="hs-comment">-- * Creating a Request</span><span>
</span><a name="line-39"></a><span>      </span><a href="Network.AWS.Kinesis.GetRecords.html#getRecords"><span class="hs-identifier hs-var">getRecords</span></a><span>
</span><a name="line-40"></a><span>    </span><span class="hs-special">,</span><span> </span><a href="Network.AWS.Kinesis.GetRecords.html#GetRecords"><span class="hs-identifier hs-type">GetRecords</span></a><span>
</span><a name="line-41"></a><span>    </span><span class="hs-comment">-- * Request Lenses</span><span>
</span><a name="line-42"></a><span>    </span><span class="hs-special">,</span><span> </span><a href="Network.AWS.Kinesis.GetRecords.html#grLimit"><span class="hs-identifier hs-var">grLimit</span></a><span>
</span><a name="line-43"></a><span>    </span><span class="hs-special">,</span><span> </span><a href="Network.AWS.Kinesis.GetRecords.html#grShardIterator"><span class="hs-identifier hs-var">grShardIterator</span></a><span>
</span><a name="line-44"></a><span>
</span><a name="line-45"></a><span>    </span><span class="hs-comment">-- * Destructuring the Response</span><span>
</span><a name="line-46"></a><span>    </span><span class="hs-special">,</span><span> </span><a href="Network.AWS.Kinesis.GetRecords.html#getRecordsResponse"><span class="hs-identifier hs-var">getRecordsResponse</span></a><span>
</span><a name="line-47"></a><span>    </span><span class="hs-special">,</span><span> </span><a href="Network.AWS.Kinesis.GetRecords.html#GetRecordsResponse"><span class="hs-identifier hs-type">GetRecordsResponse</span></a><span>
</span><a name="line-48"></a><span>    </span><span class="hs-comment">-- * Response Lenses</span><span>
</span><a name="line-49"></a><span>    </span><span class="hs-special">,</span><span> </span><a href="Network.AWS.Kinesis.GetRecords.html#grrsNextShardIterator"><span class="hs-identifier hs-var">grrsNextShardIterator</span></a><span>
</span><a name="line-50"></a><span>    </span><span class="hs-special">,</span><span> </span><a href="Network.AWS.Kinesis.GetRecords.html#grrsMillisBehindLatest"><span class="hs-identifier hs-var">grrsMillisBehindLatest</span></a><span>
</span><a name="line-51"></a><span>    </span><span class="hs-special">,</span><span> </span><a href="Network.AWS.Kinesis.GetRecords.html#grrsResponseStatus"><span class="hs-identifier hs-var">grrsResponseStatus</span></a><span>
</span><a name="line-52"></a><span>    </span><span class="hs-special">,</span><span> </span><a href="Network.AWS.Kinesis.GetRecords.html#grrsRecords"><span class="hs-identifier hs-var">grrsRecords</span></a><span>
</span><a name="line-53"></a><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-54"></a><span>
</span><a name="line-55"></a><span class="hs-keyword">import</span><span>           </span><a href="Network.AWS.Kinesis.Types.html"><span class="hs-identifier">Network</span><span class="hs-operator">.</span><span class="hs-identifier">AWS</span><span class="hs-operator">.</span><span class="hs-identifier">Kinesis</span><span class="hs-operator">.</span><span class="hs-identifier">Types</span></a><span>
</span><a name="line-56"></a><span class="hs-keyword">import</span><span>           </span><a href="Network.AWS.Kinesis.Types.Product.html"><span class="hs-identifier">Network</span><span class="hs-operator">.</span><span class="hs-identifier">AWS</span><span class="hs-operator">.</span><span class="hs-identifier">Kinesis</span><span class="hs-operator">.</span><span class="hs-identifier">Types</span><span class="hs-operator">.</span><span class="hs-identifier">Product</span></a><span>
</span><a name="line-57"></a><span class="hs-keyword">import</span><span>           </span><span class="hs-identifier">Network</span><span class="hs-operator">.</span><span class="hs-identifier">AWS</span><span class="hs-operator">.</span><span class="hs-identifier">Lens</span><span>
</span><a name="line-58"></a><span class="hs-keyword">import</span><span>           </span><span class="hs-identifier">Network</span><span class="hs-operator">.</span><span class="hs-identifier">AWS</span><span class="hs-operator">.</span><span class="hs-identifier">Prelude</span><span>
</span><a name="line-59"></a><span class="hs-keyword">import</span><span>           </span><span class="hs-identifier">Network</span><span class="hs-operator">.</span><span class="hs-identifier">AWS</span><span class="hs-operator">.</span><span class="hs-identifier">Request</span><span>
</span><a name="line-60"></a><span class="hs-keyword">import</span><span>           </span><span class="hs-identifier">Network</span><span class="hs-operator">.</span><span class="hs-identifier">AWS</span><span class="hs-operator">.</span><span class="hs-identifier">Response</span><span>
</span><a name="line-61"></a><span>
</span><a name="line-62"></a><span class="hs-comment">-- | Represents the input for 'GetRecords' .</span><span>
</span><a name="line-63"></a><span class="hs-comment">--</span><span>
</span><a name="line-64"></a><span class="hs-comment">--</span><span>
</span><a name="line-65"></a><span class="hs-comment">--</span><span>
</span><a name="line-66"></a><span class="hs-comment">-- /See:/ 'getRecords' smart constructor.</span><span>
</span><a name="line-67"></a><span class="hs-keyword">data</span><span> </span><a name="GetRecords"><a href="Network.AWS.Kinesis.GetRecords.html#GetRecords"><span class="hs-identifier">GetRecords</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="GetRecords%27"><a href="Network.AWS.Kinesis.GetRecords.html#GetRecords%27"><span class="hs-identifier">GetRecords'</span></a></a><span>
</span><a name="line-68"></a><span>    </span><span class="hs-special">{</span><span> </span><a name="_grLimit"><a href="Network.AWS.Kinesis.GetRecords.html#_grLimit"><span class="hs-identifier">_grLimit</span></a></a><span>         </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="hs-identifier hs-type">Maybe</span><span> </span><span class="hs-identifier hs-type">Nat</span><span class="hs-special">)</span><span>
</span><a name="line-69"></a><span>    </span><span class="hs-special">,</span><span> </span><a name="_grShardIterator"><a href="Network.AWS.Kinesis.GetRecords.html#_grShardIterator"><span class="hs-identifier">_grShardIterator</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-identifier hs-type">Text</span><span>
</span><a name="line-70"></a><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Eq</span><span class="hs-special">,</span><span class="hs-identifier hs-type">Read</span><span class="hs-special">,</span><span class="hs-identifier hs-type">Show</span><span class="hs-special">,</span><span class="hs-identifier hs-type">Data</span><span class="hs-special">,</span><span class="hs-identifier hs-type">Typeable</span><span class="hs-special">,</span><span class="hs-identifier hs-type">Generic</span><span class="hs-special">)</span><span>
</span><a name="line-71"></a><span>
</span><a name="line-72"></a><span class="hs-comment">-- | Creates a value of 'GetRecords' with the minimum fields required to make a request.</span><span>
</span><a name="line-73"></a><span class="hs-comment">--</span><span>
</span><a name="line-74"></a><span class="hs-comment">-- Use one of the following lenses to modify other fields as desired:</span><span>
</span><a name="line-75"></a><span class="hs-comment">--</span><span>
</span><a name="line-76"></a><span class="hs-comment">-- * 'grLimit' - The maximum number of records to return. Specify a value of up to 10,000. If you specify a value that is greater than 10,000, 'GetRecords' throws @InvalidArgumentException@ .</span><span>
</span><a name="line-77"></a><span class="hs-comment">--</span><span>
</span><a name="line-78"></a><span class="hs-comment">-- * 'grShardIterator' - The position in the shard from which you want to start sequentially reading data records. A shard iterator specifies this position using the sequence number of a data record in the shard.</span><span>
</span><a name="line-79"></a><span class="hs-identifier">getRecords</span><span>
</span><a name="line-80"></a><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Text</span><span> </span><span class="hs-comment">-- ^ 'grShardIterator'</span><span>
</span><a name="line-81"></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Network.AWS.Kinesis.GetRecords.html#GetRecords"><span class="hs-identifier hs-type">GetRecords</span></a><span>
</span><a name="line-82"></a><a name="getRecords"><a href="Network.AWS.Kinesis.GetRecords.html#getRecords"><span class="hs-identifier">getRecords</span></a></a><span> </span><a name="local-6989586621679166357"><a href="#local-6989586621679166357"><span class="hs-identifier">pShardIterator_</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-83"></a><span>    </span><a href="Network.AWS.Kinesis.GetRecords.html#GetRecords%27"><span class="hs-identifier hs-var">GetRecords'</span></a><span>
</span><a name="line-84"></a><span>    </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">_grLimit</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Nothing</span><span>
</span><a name="line-85"></a><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_grShardIterator</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679166357"><span class="hs-identifier hs-var">pShardIterator_</span></a><span>
</span><a name="line-86"></a><span>    </span><span class="hs-special">}</span><span>
</span><a name="line-87"></a><span>
</span><a name="line-88"></a><span class="hs-comment">-- | The maximum number of records to return. Specify a value of up to 10,000. If you specify a value that is greater than 10,000, 'GetRecords' throws @InvalidArgumentException@ .</span><span>
</span><a name="line-89"></a><span class="hs-identifier">grLimit</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Lens'</span><span> </span><a href="Network.AWS.Kinesis.GetRecords.html#GetRecords"><span class="hs-identifier hs-type">GetRecords</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Maybe</span><span> </span><span class="hs-identifier hs-type">Natural</span><span class="hs-special">)</span><span>
</span><a name="line-90"></a><a name="grLimit"><a href="Network.AWS.Kinesis.GetRecords.html#grLimit"><span class="hs-identifier">grLimit</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">lens</span><span> </span><span class="hs-identifier">_grLimit</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><a name="local-6989586621679166358"><a href="#local-6989586621679166358"><span class="hs-identifier">s</span></a></a><span> </span><a name="local-6989586621679166359"><a href="#local-6989586621679166359"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679166358"><span class="hs-identifier hs-var">s</span></a><span class="hs-special">{</span><span class="hs-identifier">_grLimit</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679166359"><span class="hs-identifier hs-var">a</span></a><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">mapping</span><span> </span><span class="hs-identifier hs-var">_Nat</span><span class="hs-special">;</span><span>
</span><a name="line-91"></a><span>
</span><a name="line-92"></a><span class="hs-comment">-- | The position in the shard from which you want to start sequentially reading data records. A shard iterator specifies this position using the sequence number of a data record in the shard.</span><span>
</span><a name="line-93"></a><span class="hs-identifier">grShardIterator</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Lens'</span><span> </span><a href="Network.AWS.Kinesis.GetRecords.html#GetRecords"><span class="hs-identifier hs-type">GetRecords</span></a><span> </span><span class="hs-identifier hs-type">Text</span><span>
</span><a name="line-94"></a><a name="grShardIterator"><a href="Network.AWS.Kinesis.GetRecords.html#grShardIterator"><span class="hs-identifier">grShardIterator</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">lens</span><span> </span><span class="hs-identifier">_grShardIterator</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><a name="local-6989586621679166360"><a href="#local-6989586621679166360"><span class="hs-identifier">s</span></a></a><span> </span><a name="local-6989586621679166361"><a href="#local-6989586621679166361"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679166360"><span class="hs-identifier hs-var">s</span></a><span class="hs-special">{</span><span class="hs-identifier">_grShardIterator</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679166361"><span class="hs-identifier hs-var">a</span></a><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">;</span><span>
</span><a name="line-95"></a><span>
</span><a name="line-96"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">AWSRequest</span><span> </span><a href="Network.AWS.Kinesis.GetRecords.html#GetRecords"><span class="hs-identifier hs-type">GetRecords</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-97"></a><span>        </span><span class="hs-keyword">type</span><span> </span><span class="hs-identifier">Rs</span><span> </span><a href="Network.AWS.Kinesis.GetRecords.html#GetRecords"><span class="hs-identifier hs-type">GetRecords</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Network.AWS.Kinesis.GetRecords.html#GetRecordsResponse"><span class="hs-identifier hs-type">GetRecordsResponse</span></a><span>
</span><a name="line-98"></a><span>        </span><a name="local-8214565720323796179"><span class="hs-identifier">request</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">postJSON</span><span> </span><a href="Network.AWS.Kinesis.Types.html#kinesis"><span class="hs-identifier hs-var">kinesis</span></a><span>
</span><a name="line-99"></a><span>        </span><a name="local-8214565720323796178"><span class="hs-identifier">response</span></a><span>
</span><a name="line-100"></a><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">receiveJSON</span><span>
</span><a name="line-101"></a><span>              </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><a name="local-6989586621679166354"><a href="#local-6989586621679166354"><span class="hs-identifier">s</span></a></a><span> </span><a name="local-6989586621679166355"><a href="#local-6989586621679166355"><span class="hs-identifier">h</span></a></a><span> </span><a name="local-6989586621679166356"><a href="#local-6989586621679166356"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-102"></a><span>                 </span><a href="Network.AWS.Kinesis.GetRecords.html#GetRecordsResponse%27"><span class="hs-identifier hs-var">GetRecordsResponse'</span></a><span> </span><span class="hs-operator hs-var">&lt;$&gt;</span><span>
</span><a name="line-103"></a><span>                   </span><span class="hs-special">(</span><a href="#local-6989586621679166356"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-operator hs-var">.?&gt;</span><span> </span><span class="hs-string">&quot;NextShardIterator&quot;</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">&lt;*&gt;</span><span>
</span><a name="line-104"></a><span>                     </span><span class="hs-special">(</span><a href="#local-6989586621679166356"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-operator hs-var">.?&gt;</span><span> </span><span class="hs-string">&quot;MillisBehindLatest&quot;</span><span class="hs-special">)</span><span>
</span><a name="line-105"></a><span>                     </span><span class="hs-operator hs-var">&lt;*&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">pure</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">fromEnum</span><span> </span><a href="#local-6989586621679166354"><span class="hs-identifier hs-var">s</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-106"></a><span>                     </span><span class="hs-operator hs-var">&lt;*&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679166356"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-operator hs-var">.?&gt;</span><span> </span><span class="hs-string">&quot;Records&quot;</span><span> </span><span class="hs-operator hs-var">.!@</span><span> </span><span class="hs-identifier hs-var">mempty</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-107"></a><span>
</span><a name="line-108"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Hashable</span><span> </span><a href="Network.AWS.Kinesis.GetRecords.html#GetRecords"><span class="hs-identifier hs-type">GetRecords</span></a><span>
</span><a name="line-109"></a><span>
</span><a name="line-110"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">NFData</span><span> </span><a href="Network.AWS.Kinesis.GetRecords.html#GetRecords"><span class="hs-identifier hs-type">GetRecords</span></a><span>
</span><a name="line-111"></a><span>
</span><a name="line-112"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">ToHeaders</span><span> </span><a href="Network.AWS.Kinesis.GetRecords.html#GetRecords"><span class="hs-identifier hs-type">GetRecords</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-113"></a><span>        </span><a name="local-8214565720323796232"><span class="hs-identifier">toHeaders</span></a><span>
</span><a name="line-114"></a><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">const</span><span>
</span><a name="line-115"></a><span>              </span><span class="hs-special">(</span><span class="hs-identifier hs-var">mconcat</span><span>
</span><a name="line-116"></a><span>                 </span><span class="hs-special">[</span><span class="hs-string">&quot;X-Amz-Target&quot;</span><span> </span><span class="hs-operator hs-var">=#</span><span>
</span><a name="line-117"></a><span>                    </span><span class="hs-special">(</span><span class="hs-string">&quot;Kinesis_20131202.GetRecords&quot;</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">ByteString</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-118"></a><span>                  </span><span class="hs-string">&quot;Content-Type&quot;</span><span> </span><span class="hs-operator hs-var">=#</span><span>
</span><a name="line-119"></a><span>                    </span><span class="hs-special">(</span><span class="hs-string">&quot;application/x-amz-json-1.1&quot;</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">ByteString</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-120"></a><span>
</span><a name="line-121"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">ToJSON</span><span> </span><a href="Network.AWS.Kinesis.GetRecords.html#GetRecords"><span class="hs-identifier hs-type">GetRecords</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-122"></a><span>        </span><a name="local-8214565720323796263"><span class="hs-identifier">toJSON</span></a><span> </span><a href="Network.AWS.Kinesis.GetRecords.html#GetRecords%27"><span class="hs-identifier hs-var">GetRecords'</span></a><span class="hs-special">{</span><span class="hs-glyph">..</span><span class="hs-special">}</span><span>
</span><a name="line-123"></a><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">object</span><span>
</span><a name="line-124"></a><span>              </span><span class="hs-special">(</span><span class="hs-identifier hs-var">catMaybes</span><span>
</span><a name="line-125"></a><span>                 </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-string">&quot;Limit&quot;</span><span> </span><span class="hs-operator hs-var">.=</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">&lt;$&gt;</span><span> </span><a href="#local-6989586621679166352"><span class="hs-identifier hs-var">_grLimit</span></a><span class="hs-special">,</span><span>
</span><a name="line-126"></a><span>                  </span><span class="hs-identifier hs-var">Just</span><span> </span><span class="hs-special">(</span><span class="hs-string">&quot;ShardIterator&quot;</span><span> </span><span class="hs-operator hs-var">.=</span><span> </span><a href="#local-6989586621679166353"><span class="hs-identifier hs-var">_grShardIterator</span></a><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-127"></a><span>
</span><a name="line-128"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">ToPath</span><span> </span><a href="Network.AWS.Kinesis.GetRecords.html#GetRecords"><span class="hs-identifier hs-type">GetRecords</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-129"></a><span>        </span><a name="local-8214565720323796219"><span class="hs-identifier">toPath</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">const</span><span> </span><span class="hs-string">&quot;/&quot;</span><span>
</span><a name="line-130"></a><span>
</span><a name="line-131"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">ToQuery</span><span> </span><a href="Network.AWS.Kinesis.GetRecords.html#GetRecords"><span class="hs-identifier hs-type">GetRecords</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-132"></a><span>        </span><a name="local-8214565720323796213"><span class="hs-identifier">toQuery</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">const</span><span> </span><span class="hs-identifier hs-var">mempty</span><span>
</span><a name="line-133"></a><span>
</span><a name="line-134"></a><span class="hs-comment">-- | Represents the output for 'GetRecords' .</span><span>
</span><a name="line-135"></a><span class="hs-comment">--</span><span>
</span><a name="line-136"></a><span class="hs-comment">--</span><span>
</span><a name="line-137"></a><span class="hs-comment">--</span><span>
</span><a name="line-138"></a><span class="hs-comment">-- /See:/ 'getRecordsResponse' smart constructor.</span><span>
</span><a name="line-139"></a><span class="hs-keyword">data</span><span> </span><a name="GetRecordsResponse"><a href="Network.AWS.Kinesis.GetRecords.html#GetRecordsResponse"><span class="hs-identifier">GetRecordsResponse</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="GetRecordsResponse%27"><a href="Network.AWS.Kinesis.GetRecords.html#GetRecordsResponse%27"><span class="hs-identifier">GetRecordsResponse'</span></a></a><span>
</span><a name="line-140"></a><span>    </span><span class="hs-special">{</span><span> </span><a name="_grrsNextShardIterator"><a href="Network.AWS.Kinesis.GetRecords.html#_grrsNextShardIterator"><span class="hs-identifier">_grrsNextShardIterator</span></a></a><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="hs-identifier hs-type">Maybe</span><span> </span><span class="hs-identifier hs-type">Text</span><span class="hs-special">)</span><span>
</span><a name="line-141"></a><span>    </span><span class="hs-special">,</span><span> </span><a name="_grrsMillisBehindLatest"><a href="Network.AWS.Kinesis.GetRecords.html#_grrsMillisBehindLatest"><span class="hs-identifier">_grrsMillisBehindLatest</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="hs-identifier hs-type">Maybe</span><span> </span><span class="hs-identifier hs-type">Nat</span><span class="hs-special">)</span><span>
</span><a name="line-142"></a><span>    </span><span class="hs-special">,</span><span> </span><a name="_grrsResponseStatus"><a href="Network.AWS.Kinesis.GetRecords.html#_grrsResponseStatus"><span class="hs-identifier">_grrsResponseStatus</span></a></a><span>     </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-identifier hs-type">Int</span><span>
</span><a name="line-143"></a><span>    </span><span class="hs-special">,</span><span> </span><a name="_grrsRecords"><a href="Network.AWS.Kinesis.GetRecords.html#_grrsRecords"><span class="hs-identifier">_grrsRecords</span></a></a><span>            </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><a href="Network.AWS.Kinesis.Types.Product.html#Record"><span class="hs-identifier hs-type">Record</span></a><span class="hs-special">]</span><span>
</span><a name="line-144"></a><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Eq</span><span class="hs-special">,</span><span class="hs-identifier hs-type">Read</span><span class="hs-special">,</span><span class="hs-identifier hs-type">Show</span><span class="hs-special">,</span><span class="hs-identifier hs-type">Data</span><span class="hs-special">,</span><span class="hs-identifier hs-type">Typeable</span><span class="hs-special">,</span><span class="hs-identifier hs-type">Generic</span><span class="hs-special">)</span><span>
</span><a name="line-145"></a><span>
</span><a name="line-146"></a><span class="hs-comment">-- | Creates a value of 'GetRecordsResponse' with the minimum fields required to make a request.</span><span>
</span><a name="line-147"></a><span class="hs-comment">--</span><span>
</span><a name="line-148"></a><span class="hs-comment">-- Use one of the following lenses to modify other fields as desired:</span><span>
</span><a name="line-149"></a><span class="hs-comment">--</span><span>
</span><a name="line-150"></a><span class="hs-comment">-- * 'grrsNextShardIterator' - The next position in the shard from which to start sequentially reading data records. If set to @null@ , the shard has been closed and the requested iterator will not return any more data.</span><span>
</span><a name="line-151"></a><span class="hs-comment">--</span><span>
</span><a name="line-152"></a><span class="hs-comment">-- * 'grrsMillisBehindLatest' - The number of milliseconds the 'GetRecords' response is from the tip of the stream, indicating how far behind current time the consumer is. A value of zero indicates record processing is caught up, and there are no new records to process at this moment.</span><span>
</span><a name="line-153"></a><span class="hs-comment">--</span><span>
</span><a name="line-154"></a><span class="hs-comment">-- * 'grrsResponseStatus' - -- | The response status code.</span><span>
</span><a name="line-155"></a><span class="hs-comment">--</span><span>
</span><a name="line-156"></a><span class="hs-comment">-- * 'grrsRecords' - The data records retrieved from the shard.</span><span>
</span><a name="line-157"></a><span class="hs-identifier">getRecordsResponse</span><span>
</span><a name="line-158"></a><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Int</span><span> </span><span class="hs-comment">-- ^ 'grrsResponseStatus'</span><span>
</span><a name="line-159"></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Network.AWS.Kinesis.GetRecords.html#GetRecordsResponse"><span class="hs-identifier hs-type">GetRecordsResponse</span></a><span>
</span><a name="line-160"></a><a name="getRecordsResponse"><a href="Network.AWS.Kinesis.GetRecords.html#getRecordsResponse"><span class="hs-identifier">getRecordsResponse</span></a></a><span> </span><a name="local-6989586621679166362"><a href="#local-6989586621679166362"><span class="hs-identifier">pResponseStatus_</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-161"></a><span>    </span><a href="Network.AWS.Kinesis.GetRecords.html#GetRecordsResponse%27"><span class="hs-identifier hs-var">GetRecordsResponse'</span></a><span>
</span><a name="line-162"></a><span>    </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">_grrsNextShardIterator</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Nothing</span><span>
</span><a name="line-163"></a><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_grrsMillisBehindLatest</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Nothing</span><span>
</span><a name="line-164"></a><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_grrsResponseStatus</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679166362"><span class="hs-identifier hs-var">pResponseStatus_</span></a><span>
</span><a name="line-165"></a><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_grrsRecords</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">mempty</span><span>
</span><a name="line-166"></a><span>    </span><span class="hs-special">}</span><span>
</span><a name="line-167"></a><span>
</span><a name="line-168"></a><span class="hs-comment">-- | The next position in the shard from which to start sequentially reading data records. If set to @null@ , the shard has been closed and the requested iterator will not return any more data.</span><span>
</span><a name="line-169"></a><span class="hs-identifier">grrsNextShardIterator</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Lens'</span><span> </span><a href="Network.AWS.Kinesis.GetRecords.html#GetRecordsResponse"><span class="hs-identifier hs-type">GetRecordsResponse</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Maybe</span><span> </span><span class="hs-identifier hs-type">Text</span><span class="hs-special">)</span><span>
</span><a name="line-170"></a><a name="grrsNextShardIterator"><a href="Network.AWS.Kinesis.GetRecords.html#grrsNextShardIterator"><span class="hs-identifier">grrsNextShardIterator</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">lens</span><span> </span><span class="hs-identifier">_grrsNextShardIterator</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><a name="local-6989586621679166363"><a href="#local-6989586621679166363"><span class="hs-identifier">s</span></a></a><span> </span><a name="local-6989586621679166364"><a href="#local-6989586621679166364"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679166363"><span class="hs-identifier hs-var">s</span></a><span class="hs-special">{</span><span class="hs-identifier">_grrsNextShardIterator</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679166364"><span class="hs-identifier hs-var">a</span></a><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">;</span><span>
</span><a name="line-171"></a><span>
</span><a name="line-172"></a><span class="hs-comment">-- | The number of milliseconds the 'GetRecords' response is from the tip of the stream, indicating how far behind current time the consumer is. A value of zero indicates record processing is caught up, and there are no new records to process at this moment.</span><span>
</span><a name="line-173"></a><span class="hs-identifier">grrsMillisBehindLatest</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Lens'</span><span> </span><a href="Network.AWS.Kinesis.GetRecords.html#GetRecordsResponse"><span class="hs-identifier hs-type">GetRecordsResponse</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Maybe</span><span> </span><span class="hs-identifier hs-type">Natural</span><span class="hs-special">)</span><span>
</span><a name="line-174"></a><a name="grrsMillisBehindLatest"><a href="Network.AWS.Kinesis.GetRecords.html#grrsMillisBehindLatest"><span class="hs-identifier">grrsMillisBehindLatest</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">lens</span><span> </span><span class="hs-identifier">_grrsMillisBehindLatest</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><a name="local-6989586621679166365"><a href="#local-6989586621679166365"><span class="hs-identifier">s</span></a></a><span> </span><a name="local-6989586621679166366"><a href="#local-6989586621679166366"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679166365"><span class="hs-identifier hs-var">s</span></a><span class="hs-special">{</span><span class="hs-identifier">_grrsMillisBehindLatest</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679166366"><span class="hs-identifier hs-var">a</span></a><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">mapping</span><span> </span><span class="hs-identifier hs-var">_Nat</span><span class="hs-special">;</span><span>
</span><a name="line-175"></a><span>
</span><a name="line-176"></a><span class="hs-comment">-- | -- | The response status code.</span><span>
</span><a name="line-177"></a><span class="hs-identifier">grrsResponseStatus</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Lens'</span><span> </span><a href="Network.AWS.Kinesis.GetRecords.html#GetRecordsResponse"><span class="hs-identifier hs-type">GetRecordsResponse</span></a><span> </span><span class="hs-identifier hs-type">Int</span><span>
</span><a name="line-178"></a><a name="grrsResponseStatus"><a href="Network.AWS.Kinesis.GetRecords.html#grrsResponseStatus"><span class="hs-identifier">grrsResponseStatus</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">lens</span><span> </span><span class="hs-identifier">_grrsResponseStatus</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><a name="local-6989586621679166367"><a href="#local-6989586621679166367"><span class="hs-identifier">s</span></a></a><span> </span><a name="local-6989586621679166368"><a href="#local-6989586621679166368"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679166367"><span class="hs-identifier hs-var">s</span></a><span class="hs-special">{</span><span class="hs-identifier">_grrsResponseStatus</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679166368"><span class="hs-identifier hs-var">a</span></a><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">;</span><span>
</span><a name="line-179"></a><span>
</span><a name="line-180"></a><span class="hs-comment">-- | The data records retrieved from the shard.</span><span>
</span><a name="line-181"></a><span class="hs-identifier">grrsRecords</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Lens'</span><span> </span><a href="Network.AWS.Kinesis.GetRecords.html#GetRecordsResponse"><span class="hs-identifier hs-type">GetRecordsResponse</span></a><span> </span><span class="hs-special">[</span><a href="Network.AWS.Kinesis.Types.Product.html#Record"><span class="hs-identifier hs-type">Record</span></a><span class="hs-special">]</span><span>
</span><a name="line-182"></a><a name="grrsRecords"><a href="Network.AWS.Kinesis.GetRecords.html#grrsRecords"><span class="hs-identifier">grrsRecords</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">lens</span><span> </span><span class="hs-identifier">_grrsRecords</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><a name="local-6989586621679166369"><a href="#local-6989586621679166369"><span class="hs-identifier">s</span></a></a><span> </span><a name="local-6989586621679166370"><a href="#local-6989586621679166370"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679166369"><span class="hs-identifier hs-var">s</span></a><span class="hs-special">{</span><span class="hs-identifier">_grrsRecords</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679166370"><span class="hs-identifier hs-var">a</span></a><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">_Coerce</span><span class="hs-special">;</span><span>
</span><a name="line-183"></a><span>
</span><a name="line-184"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">NFData</span><span> </span><a href="Network.AWS.Kinesis.GetRecords.html#GetRecordsResponse"><span class="hs-identifier hs-type">GetRecordsResponse</span></a><span>
</span><a name="line-185"></a></pre></body></html>